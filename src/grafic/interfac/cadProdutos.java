/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package grafic.interfac;

import DAO.listaGrupDAO;
import DAO.listaInfAdcDAO;
import DAO.ncmDAO;
import DAO.permissaoUsuarioDAO;
import DAO.produtoDAO;
import Logs.gravarLog;
import model.Unidades;
import model.clsItemComposicao;
import classes.clsLocalizaProduto;
import classes.clsaux;
import com.sun.glass.events.KeyEvent;
import model.produtos;
import conexoes.conexao;
import grafic.interfac.pesquisa.localizaProduto;
import java.awt.Image;
import java.awt.event.ActionEvent;
import java.io.File;
import java.io.IOException;
import java.nio.file.Files;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.util.ArrayList;
import java.util.List;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.imageio.ImageIO;
import javax.swing.AbstractAction;
import javax.swing.DefaultComboBoxModel;
import javax.swing.ImageIcon;
import javax.swing.InputMap;
import javax.swing.JOptionPane;
import javax.swing.JPanel;
import javax.swing.KeyStroke;
import javax.swing.table.DefaultTableModel;
import model.clsDadosEmpresa;
import model.clsDadosEstoque;
import model.tprecos_atacarejo;
import util.validaDigitosBarras;

/**
 *
 * @author Rodrigo
 */
public class cadProdutos extends javax.swing.JDialog {

    /**
     * Creates new form cadProdutos
     */
    public cadProdutos(java.awt.Frame parent, boolean modal) {
        super(parent, modal);
        initComponents();
        this.listaGrupos();
        this.iniciaCampos();
        this.validarCampoUsuario();
    }

    produtoDAO prodDAO = new produtoDAO();
    private String estoqueAntigo="0";
    produtos prod = new produtos();
    Boolean ajustaBarra=false;
    Boolean barrascadastrada=false;

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        flImagem = new javax.swing.JFileChooser();
        jPanel4 = new javax.swing.JPanel();
        jPanel5 = new javax.swing.JPanel();
        jLabel1 = new javax.swing.JLabel();
        TxtCodigoInternoProdutos = new javax.swing.JTextField();
        jLabel2 = new javax.swing.JLabel();
        CkBoxInativo = new javax.swing.JCheckBox();
        jLabel3 = new javax.swing.JLabel();
        TxtDescricao = new javax.swing.JTextField();
        jLabel4 = new javax.swing.JLabel();
        TxtResumida = new javax.swing.JTextField();
        jLabel5 = new javax.swing.JLabel();
        CbUnidade = new javax.swing.JComboBox<>();
        jTabbedPane1 = new javax.swing.JTabbedPane();
        jPanel12 = new javax.swing.JPanel();
        jLabel10 = new javax.swing.JLabel();
        CbSubGrupo = new javax.swing.JComboBox<>();
        jLabel12 = new javax.swing.JLabel();
        CbTipo = new javax.swing.JComboBox<>();
        jLabel11 = new javax.swing.JLabel();
        jLabel13 = new javax.swing.JLabel();
        CbSetor = new javax.swing.JComboBox<>();
        CbGrupo = new javax.swing.JComboBox<>();
        jSeparator1 = new javax.swing.JSeparator();
        btnIncluirGrupo = new javax.swing.JButton();
        btnIncluirSub = new javax.swing.JButton();
        btnincluirSetor = new javax.swing.JButton();
        jLabel40 = new javax.swing.JLabel();
        cbPesavel = new javax.swing.JComboBox<>();
        jSeparator2 = new javax.swing.JSeparator();
        jLabel41 = new javax.swing.JLabel();
        cbBalanca = new javax.swing.JComboBox<>();
        jLabel42 = new javax.swing.JLabel();
        cbImpProd = new javax.swing.JComboBox<>();
        ckPesaAut = new javax.swing.JCheckBox();
        ckFichaConsumo = new javax.swing.JCheckBox();
        ckProducaoVenda = new javax.swing.JCheckBox();
        ckImprimeEtiqueta = new javax.swing.JCheckBox();
        jLabel48 = new javax.swing.JLabel();
        ftValidade = new javax.swing.JFormattedTextField();
        ckLocacao = new javax.swing.JCheckBox();
        ckPrecoVariado = new javax.swing.JCheckBox();
        jPanel3 = new javax.swing.JPanel();
        jPanel6 = new javax.swing.JPanel();
        jLabel22 = new javax.swing.JLabel();
        CbAliqIcms = new javax.swing.JComboBox<>();
        CbCst = new javax.swing.JComboBox<>();
        jLabel21 = new javax.swing.JLabel();
        TxtNcm = new javax.swing.JTextField();
        jLabel20 = new javax.swing.JLabel();
        jLabel26 = new javax.swing.JLabel();
        CbCEST = new javax.swing.JComboBox<>();
        btnPesq = new javax.swing.JButton();
        txtDescNcm = new javax.swing.JTextField();
        jPanel7 = new javax.swing.JPanel();
        jLabel23 = new javax.swing.JLabel();
        jLabel24 = new javax.swing.JLabel();
        CbPIsCofinsEntrada = new javax.swing.JComboBox<>();
        CbPisCofinsSaida = new javax.swing.JComboBox<>();
        jLabel25 = new javax.swing.JLabel();
        jComboBox1 = new javax.swing.JComboBox<>();
        jPanel2 = new javax.swing.JPanel();
        jPanel9 = new javax.swing.JPanel();
        jLabel6 = new javax.swing.JLabel();
        jLabel34 = new javax.swing.JLabel();
        txtPtsVale = new javax.swing.JTextField();
        txtPtsRetira = new javax.swing.JTextField();
        jPanel18 = new javax.swing.JPanel();
        ckCardapio = new javax.swing.JCheckBox();
        jScrollPane3 = new javax.swing.JScrollPane();
        txtDescritivo = new javax.swing.JTextArea();
        jButton2 = new javax.swing.JButton();
        jPanel19 = new javax.swing.JPanel();
        lbImagem = new javax.swing.JLabel();
        jPanel10 = new javax.swing.JPanel();
        jPanel16 = new javax.swing.JPanel();
        jPanel17 = new javax.swing.JPanel();
        txtCodigo = new javax.swing.JTextField();
        lbBtnPesquisa = new javax.swing.JLabel();
        lbNome = new javax.swing.JLabel();
        jLabel35 = new javax.swing.JLabel();
        jLabel36 = new javax.swing.JLabel();
        jLabel37 = new javax.swing.JLabel();
        txtQntComp = new javax.swing.JTextField();
        btnConfirmaProdComp = new javax.swing.JButton();
        jButton3 = new javax.swing.JButton();
        jLabel38 = new javax.swing.JLabel();
        jLabel39 = new javax.swing.JLabel();
        txtPerPerca = new javax.swing.JTextField();
        txtPercCusto = new javax.swing.JTextField();
        lbCodigoComp = new javax.swing.JLabel();
        txtCustoVl = new javax.swing.JTextField();
        jScrollPane1 = new javax.swing.JScrollPane();
        tbComp = new javax.swing.JTable();
        jPanel1 = new javax.swing.JPanel();
        jLabel46 = new javax.swing.JLabel();
        jLabel47 = new javax.swing.JLabel();
        txtPrecoAtacarejo = new javax.swing.JTextField();
        txtQntatacarejo = new javax.swing.JTextField();
        btnIncluiAtacarejo = new javax.swing.JButton();
        jScrollPane2 = new javax.swing.JScrollPane();
        tbPrecAtacarejo = new javax.swing.JTable();
        jButton1 = new javax.swing.JButton();
        jPanel11 = new javax.swing.JPanel();
        BtnCancelarCadastroProdutos = new javax.swing.JButton();
        BtnGravarCadastroProdutos = new javax.swing.JButton();
        jPanel13 = new javax.swing.JPanel();
        jLabel9 = new javax.swing.JLabel();
        TxtReferencia = new javax.swing.JTextField();
        TxtCodBarras = new javax.swing.JTextField();
        jLabel7 = new javax.swing.JLabel();
        BtnGerarCodigo = new javax.swing.JButton();
        jLabel8 = new javax.swing.JLabel();
        TxtCodBaixa = new javax.swing.JTextField();
        jPanel14 = new javax.swing.JPanel();
        jLabel17 = new javax.swing.JLabel();
        TxtPrecoCompra = new javax.swing.JTextField();
        jLabel28 = new javax.swing.JLabel();
        txtCustoMedio = new javax.swing.JTextField();
        jLabel29 = new javax.swing.JLabel();
        txtCustoAtual = new javax.swing.JTextField();
        jPanel15 = new javax.swing.JPanel();
        jLabel27 = new javax.swing.JLabel();
        TxtMargem = new javax.swing.JTextField();
        jLabel19 = new javax.swing.JLabel();
        TxtPrecoVenda = new javax.swing.JTextField();
        jLabel30 = new javax.swing.JLabel();
        txtSugestao = new javax.swing.JTextField();
        jLabel43 = new javax.swing.JLabel();
        txtPrecoOferta = new javax.swing.JTextField();
        jLabel44 = new javax.swing.JLabel();
        jLabel45 = new javax.swing.JLabel();
        ftComecoOferta = new javax.swing.JFormattedTextField();
        ftFimOferta = new javax.swing.JFormattedTextField();
        jPanel8 = new javax.swing.JPanel();
        jLabel14 = new javax.swing.JLabel();
        TxtEstoque = new javax.swing.JTextField();
        jLabel15 = new javax.swing.JLabel();
        TxtEstoqueMinimo = new javax.swing.JTextField();
        jLabel16 = new javax.swing.JLabel();
        TxtConversao = new javax.swing.JTextField();
        jLabel18 = new javax.swing.JLabel();
        CbUnidade1 = new javax.swing.JComboBox<>();
        BtnGerarCodigo1 = new javax.swing.JButton();
        jLabel31 = new javax.swing.JLabel();
        jLabel32 = new javax.swing.JLabel();
        jLabel33 = new javax.swing.JLabel();

        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
        addComponentListener(new java.awt.event.ComponentAdapter() {
            public void componentShown(java.awt.event.ComponentEvent evt) {
                formComponentShown(evt);
            }
        });

        jPanel4.setBackground(new java.awt.Color(219, 227, 227));
        jPanel4.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(0, 0, 0)));

        jPanel5.setBackground(new java.awt.Color(255, 255, 255));
        jPanel5.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED));

        jLabel1.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel1.setText("Interno :");

        TxtCodigoInternoProdutos.setEditable(false);
        TxtCodigoInternoProdutos.setBackground(new java.awt.Color(255, 255, 255));
        TxtCodigoInternoProdutos.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        TxtCodigoInternoProdutos.setEnabled(false);

        jLabel2.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel2.setText("Estado :");

        CkBoxInativo.setBackground(new java.awt.Color(255, 255, 255));
        CkBoxInativo.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        CkBoxInativo.setText("Inativo");

        jLabel3.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel3.setText("Descrição :");

        TxtDescricao.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        TxtDescricao.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                TxtDescricaoFocusLost(evt);
            }
        });
        TxtDescricao.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                TxtDescricaoActionPerformed(evt);
            }
        });

        jLabel4.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel4.setText("Resumida :");

        TxtResumida.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        TxtResumida.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                TxtResumidaActionPerformed(evt);
            }
        });

        jLabel5.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel5.setText("Un. Venda :");

        CbUnidade.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        CbUnidade.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { " " }));

        javax.swing.GroupLayout jPanel5Layout = new javax.swing.GroupLayout(jPanel5);
        jPanel5.setLayout(jPanel5Layout);
        jPanel5Layout.setHorizontalGroup(
            jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel5Layout.createSequentialGroup()
                .addGap(10, 10, 10)
                .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel3)
                    .addComponent(jLabel4)
                    .addComponent(jLabel1, javax.swing.GroupLayout.Alignment.TRAILING))
                .addGap(4, 4, 4)
                .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel5Layout.createSequentialGroup()
                        .addComponent(TxtCodigoInternoProdutos, javax.swing.GroupLayout.PREFERRED_SIZE, 52, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(361, 361, 361)
                        .addComponent(jLabel2)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(CkBoxInativo, javax.swing.GroupLayout.PREFERRED_SIZE, 71, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                        .addGroup(javax.swing.GroupLayout.Alignment.LEADING, jPanel5Layout.createSequentialGroup()
                            .addComponent(TxtResumida, javax.swing.GroupLayout.PREFERRED_SIZE, 270, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                            .addComponent(jLabel5)
                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                            .addComponent(CbUnidade, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                        .addComponent(TxtDescricao, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.PREFERRED_SIZE, 411, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addContainerGap(67, Short.MAX_VALUE))
        );
        jPanel5Layout.setVerticalGroup(
            jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel5Layout.createSequentialGroup()
                .addGap(8, 8, 8)
                .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel5Layout.createSequentialGroup()
                        .addGap(3, 3, 3)
                        .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(TxtCodigoInternoProdutos, javax.swing.GroupLayout.PREFERRED_SIZE, 23, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel1)))
                    .addComponent(jLabel2, javax.swing.GroupLayout.PREFERRED_SIZE, 20, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(CkBoxInativo))
                .addGap(6, 6, 6)
                .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel5Layout.createSequentialGroup()
                        .addGap(5, 5, 5)
                        .addComponent(jLabel3))
                    .addComponent(TxtDescricao, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(7, 7, 7)
                .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel5Layout.createSequentialGroup()
                        .addGap(5, 5, 5)
                        .addComponent(jLabel4))
                    .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(TxtResumida, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(jLabel5)
                        .addComponent(CbUnidade, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addContainerGap(43, Short.MAX_VALUE))
        );

        jTabbedPane1.setBackground(new java.awt.Color(255, 255, 255));
        jTabbedPane1.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED));
        jTabbedPane1.setTabLayoutPolicy(javax.swing.JTabbedPane.SCROLL_TAB_LAYOUT);
        jTabbedPane1.setToolTipText("");
        jTabbedPane1.addComponentListener(new java.awt.event.ComponentAdapter() {
            public void componentShown(java.awt.event.ComponentEvent evt) {
                jTabbedPane1ComponentShown(evt);
            }
        });

        jPanel12.setBackground(new java.awt.Color(255, 255, 255));

        jLabel10.setFont(new java.awt.Font("Tahoma", 1, 16)); // NOI18N
        jLabel10.setText("Tipo :");

        CbSubGrupo.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        CbSubGrupo.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                CbSubGrupoActionPerformed(evt);
            }
        });

        jLabel12.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel12.setText("Sub - Grupo :");

        CbTipo.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        CbTipo.setMaximumRowCount(10);
        CbTipo.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                CbTipoActionPerformed(evt);
            }
        });

        jLabel11.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel11.setText("Grupo :");

        jLabel13.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel13.setText("Setor :");

        CbSetor.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        CbSetor.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                CbSetorActionPerformed(evt);
            }
        });

        CbGrupo.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        CbGrupo.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                CbGrupoActionPerformed(evt);
            }
        });

        btnIncluirGrupo.setIcon(new javax.swing.ImageIcon(getClass().getResource("/imagens/Incluir.png"))); // NOI18N
        btnIncluirGrupo.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnIncluirGrupoActionPerformed(evt);
            }
        });

        btnIncluirSub.setIcon(new javax.swing.ImageIcon(getClass().getResource("/imagens/Incluir.png"))); // NOI18N
        btnIncluirSub.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnIncluirSubActionPerformed(evt);
            }
        });

        btnincluirSetor.setIcon(new javax.swing.ImageIcon(getClass().getResource("/imagens/Incluir.png"))); // NOI18N
        btnincluirSetor.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnincluirSetorActionPerformed(evt);
            }
        });

        jLabel40.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel40.setText("Pesavel:");

        cbPesavel.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "Nao", "Sim" }));

        jLabel41.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel41.setText("Balança:");

        cbBalanca.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cbBalancaActionPerformed(evt);
            }
        });

        jLabel42.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel42.setText("Imp Produção:");

        cbImpProd.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "N-Nenhum", "C-Cozinha", "B-Bar" }));

        ckPesaAut.setBackground(new java.awt.Color(255, 255, 255));
        ckPesaAut.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        ckPesaAut.setText("Pesagem Automatica");
        ckPesaAut.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                ckPesaAutActionPerformed(evt);
            }
        });

        ckFichaConsumo.setBackground(new java.awt.Color(255, 255, 255));
        ckFichaConsumo.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        ckFichaConsumo.setText("Imprime Ficha Consumo");
        ckFichaConsumo.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                ckFichaConsumoActionPerformed(evt);
            }
        });

        ckProducaoVenda.setBackground(new java.awt.Color(255, 255, 255));
        ckProducaoVenda.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        ckProducaoVenda.setText("Realiza Baixa Produção Venda");
        ckProducaoVenda.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                ckProducaoVendaActionPerformed(evt);
            }
        });

        ckImprimeEtiqueta.setBackground(new java.awt.Color(255, 255, 255));
        ckImprimeEtiqueta.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        ckImprimeEtiqueta.setText("Imprime Etiqueta");
        ckImprimeEtiqueta.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                ckImprimeEtiquetaActionPerformed(evt);
            }
        });

        jLabel48.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel48.setText("Data Validade:");

        try {
            ftValidade.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.MaskFormatter("##/##/####")));
        } catch (java.text.ParseException ex) {
            ex.printStackTrace();
        }

        ckLocacao.setBackground(new java.awt.Color(255, 255, 255));
        ckLocacao.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        ckLocacao.setText("Locação");
        ckLocacao.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                ckLocacaoActionPerformed(evt);
            }
        });

        ckPrecoVariado.setBackground(new java.awt.Color(255, 255, 255));
        ckPrecoVariado.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        ckPrecoVariado.setText("Preço Variavel");
        ckPrecoVariado.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                ckPrecoVariadoActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel12Layout = new javax.swing.GroupLayout(jPanel12);
        jPanel12.setLayout(jPanel12Layout);
        jPanel12Layout.setHorizontalGroup(
            jPanel12Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel12Layout.createSequentialGroup()
                .addGroup(jPanel12Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(javax.swing.GroupLayout.Alignment.LEADING, jPanel12Layout.createSequentialGroup()
                        .addContainerGap()
                        .addComponent(jSeparator2))
                    .addGroup(javax.swing.GroupLayout.Alignment.LEADING, jPanel12Layout.createSequentialGroup()
                        .addGroup(jPanel12Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel12Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                .addGroup(jPanel12Layout.createSequentialGroup()
                                    .addGap(32, 32, 32)
                                    .addComponent(jLabel11))
                                .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel12Layout.createSequentialGroup()
                                    .addGap(4, 4, 4)
                                    .addGroup(jPanel12Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                        .addComponent(jLabel12, javax.swing.GroupLayout.Alignment.TRAILING)
                                        .addComponent(jLabel13, javax.swing.GroupLayout.Alignment.TRAILING))))
                            .addGroup(jPanel12Layout.createSequentialGroup()
                                .addGap(21, 21, 21)
                                .addComponent(jLabel10)))
                        .addGap(18, 18, 18)
                        .addGroup(jPanel12Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel12Layout.createSequentialGroup()
                                .addGroup(jPanel12Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                    .addComponent(CbGrupo, javax.swing.GroupLayout.Alignment.LEADING, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                    .addComponent(CbSubGrupo, javax.swing.GroupLayout.Alignment.LEADING, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                    .addComponent(CbSetor, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                                .addGap(18, 18, 18)
                                .addGroup(jPanel12Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(btnIncluirGrupo, javax.swing.GroupLayout.PREFERRED_SIZE, 28, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(btnIncluirSub, javax.swing.GroupLayout.PREFERRED_SIZE, 28, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(btnincluirSetor, javax.swing.GroupLayout.PREFERRED_SIZE, 28, javax.swing.GroupLayout.PREFERRED_SIZE))
                                .addGap(38, 38, 38))
                            .addGroup(jPanel12Layout.createSequentialGroup()
                                .addComponent(CbTipo, javax.swing.GroupLayout.PREFERRED_SIZE, 217, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(0, 0, Short.MAX_VALUE)))))
                .addGap(26, 26, 26))
            .addGroup(jPanel12Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel12Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel12Layout.createSequentialGroup()
                        .addGap(0, 134, Short.MAX_VALUE)
                        .addComponent(jSeparator1, javax.swing.GroupLayout.PREFERRED_SIZE, 346, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(109, 109, 109))
                    .addGroup(jPanel12Layout.createSequentialGroup()
                        .addGroup(jPanel12Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addGroup(jPanel12Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                .addComponent(jLabel42)
                                .addComponent(jLabel41, javax.swing.GroupLayout.Alignment.TRAILING)
                                .addComponent(jLabel40, javax.swing.GroupLayout.Alignment.TRAILING))
                            .addComponent(jLabel48))
                        .addGap(18, 18, 18)
                        .addGroup(jPanel12Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(cbImpProd, 0, 102, Short.MAX_VALUE)
                            .addComponent(ftValidade)
                            .addGroup(jPanel12Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                                .addComponent(cbPesavel, javax.swing.GroupLayout.Alignment.LEADING, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addComponent(cbBalanca, javax.swing.GroupLayout.Alignment.LEADING, 0, 100, Short.MAX_VALUE)))
                        .addGap(41, 41, 41)
                        .addGroup(jPanel12Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(ckPrecoVariado)
                            .addComponent(ckLocacao)
                            .addComponent(ckImprimeEtiqueta)
                            .addComponent(ckProducaoVenda)
                            .addComponent(ckFichaConsumo)
                            .addComponent(ckPesaAut))
                        .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))))
        );
        jPanel12Layout.setVerticalGroup(
            jPanel12Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel12Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel12Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(CbTipo, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel10))
                .addGap(18, 18, 18)
                .addComponent(jSeparator1, javax.swing.GroupLayout.PREFERRED_SIZE, 13, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(20, 20, 20)
                .addGroup(jPanel12Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel12Layout.createSequentialGroup()
                        .addGroup(jPanel12Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel11)
                            .addComponent(CbGrupo, javax.swing.GroupLayout.PREFERRED_SIZE, 29, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(jPanel12Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel12)
                            .addComponent(CbSubGrupo, javax.swing.GroupLayout.PREFERRED_SIZE, 29, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(jPanel12Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(jLabel13, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(CbSetor, javax.swing.GroupLayout.DEFAULT_SIZE, 29, Short.MAX_VALUE))
                        .addGap(20, 20, 20)
                        .addComponent(jSeparator2, javax.swing.GroupLayout.PREFERRED_SIZE, 10, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(jPanel12Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel40, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(cbPesavel, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(ckPesaAut))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(jPanel12Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel41, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(cbBalanca, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(ckFichaConsumo))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(jPanel12Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(cbImpProd, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel42, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(ckProducaoVenda))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(jPanel12Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel12Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                .addComponent(jLabel48)
                                .addComponent(ftValidade, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addComponent(ckImprimeEtiqueta))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(ckLocacao)
                        .addGap(4, 4, 4)
                        .addComponent(ckPrecoVariado)
                        .addGap(62, 62, 62))
                    .addGroup(jPanel12Layout.createSequentialGroup()
                        .addComponent(btnIncluirGrupo)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(btnIncluirSub)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(btnincluirSetor)
                        .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))))
        );

        jTabbedPane1.addTab("Detalhe", jPanel12);

        jPanel6.setBackground(new java.awt.Color(233, 242, 242));
        jPanel6.setBorder(javax.swing.BorderFactory.createTitledBorder("Tributação"));

        jLabel22.setText("% Icms :");

        CbAliqIcms.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        CbAliqIcms.setEnabled(false);
        CbAliqIcms.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                CbAliqIcmsMouseClicked(evt);
            }
        });

        CbCst.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        CbCst.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "102", "500", "400", "900", "101", "103" }));

        jLabel21.setText("CST :");

        TxtNcm.setFont(new java.awt.Font("Segoe UI Light", 0, 14)); // NOI18N
        TxtNcm.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                TxtNcmFocusLost(evt);
            }
        });
        TxtNcm.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                TxtNcmActionPerformed(evt);
            }
        });

        jLabel20.setText("Ncm :");

        jLabel26.setText("CEST :");

        CbCEST.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        CbCEST.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                CbCESTMouseClicked(evt);
            }
        });

        btnPesq.setIcon(new javax.swing.ImageIcon(getClass().getResource("/imagens/procura.png"))); // NOI18N
        btnPesq.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnPesqActionPerformed(evt);
            }
        });

        txtDescNcm.setEditable(false);
        txtDescNcm.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N

        javax.swing.GroupLayout jPanel6Layout = new javax.swing.GroupLayout(jPanel6);
        jPanel6.setLayout(jPanel6Layout);
        jPanel6Layout.setHorizontalGroup(
            jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel6Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel6Layout.createSequentialGroup()
                        .addComponent(jLabel26)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(CbCEST, javax.swing.GroupLayout.PREFERRED_SIZE, 60, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addComponent(jLabel21)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(CbCst, javax.swing.GroupLayout.PREFERRED_SIZE, 73, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jLabel22)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(CbAliqIcms, javax.swing.GroupLayout.PREFERRED_SIZE, 60, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(0, 0, Short.MAX_VALUE))
                    .addGroup(jPanel6Layout.createSequentialGroup()
                        .addComponent(jLabel20)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(TxtNcm, javax.swing.GroupLayout.PREFERRED_SIZE, 91, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(btnPesq, javax.swing.GroupLayout.PREFERRED_SIZE, 33, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(txtDescNcm)))
                .addContainerGap())
        );
        jPanel6Layout.setVerticalGroup(
            jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel6Layout.createSequentialGroup()
                .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel6Layout.createSequentialGroup()
                        .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(TxtNcm, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel20))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                    .addGroup(jPanel6Layout.createSequentialGroup()
                        .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(btnPesq, javax.swing.GroupLayout.PREFERRED_SIZE, 0, Short.MAX_VALUE)
                            .addGroup(jPanel6Layout.createSequentialGroup()
                                .addComponent(txtDescNcm, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(0, 5, Short.MAX_VALUE)))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)))
                .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(jLabel21)
                        .addComponent(CbCst, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(jLabel22)
                        .addComponent(CbAliqIcms, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(jLabel26)
                        .addComponent(CbCEST, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addContainerGap(30, Short.MAX_VALUE))
        );

        jPanel7.setBackground(new java.awt.Color(233, 242, 242));
        jPanel7.setBorder(javax.swing.BorderFactory.createTitledBorder("PIS - COFINS"));

        jLabel23.setText("Entrada :");

        jLabel24.setText("Saída :");

        CbPIsCofinsEntrada.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        CbPIsCofinsEntrada.setToolTipText("");
        CbPIsCofinsEntrada.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                CbPIsCofinsEntradaMouseClicked(evt);
            }
        });
        CbPIsCofinsEntrada.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                CbPIsCofinsEntradaActionPerformed(evt);
            }
        });

        CbPisCofinsSaida.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        CbPisCofinsSaida.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                CbPisCofinsSaidaMouseClicked(evt);
            }
        });

        jLabel25.setText("Nat. Receita :");

        jComboBox1.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N

        javax.swing.GroupLayout jPanel7Layout = new javax.swing.GroupLayout(jPanel7);
        jPanel7.setLayout(jPanel7Layout);
        jPanel7Layout.setHorizontalGroup(
            jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel7Layout.createSequentialGroup()
                .addGap(18, 18, 18)
                .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jLabel23)
                    .addComponent(jLabel25))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(jComboBox1, 0, 128, Short.MAX_VALUE)
                    .addComponent(CbPIsCofinsEntrada, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(jLabel24)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(CbPisCofinsSaida, 0, 128, Short.MAX_VALUE)
                .addGap(185, 185, 185))
        );
        jPanel7Layout.setVerticalGroup(
            jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel7Layout.createSequentialGroup()
                .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel23)
                    .addComponent(CbPIsCofinsEntrada, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(CbPisCofinsSaida, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel24))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jComboBox1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel25))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        javax.swing.GroupLayout jPanel3Layout = new javax.swing.GroupLayout(jPanel3);
        jPanel3.setLayout(jPanel3Layout);
        jPanel3Layout.setHorizontalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel3Layout.createSequentialGroup()
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jPanel6, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jPanel7, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addContainerGap())
        );
        jPanel3Layout.setVerticalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel3Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jPanel6, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jPanel7, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(236, Short.MAX_VALUE))
        );

        jTabbedPane1.addTab("Tributos", jPanel3);

        jPanel2.addComponentListener(new java.awt.event.ComponentAdapter() {
            public void componentShown(java.awt.event.ComponentEvent evt) {
                jPanel2ComponentShown(evt);
            }
        });

        jPanel9.setBorder(javax.swing.BorderFactory.createTitledBorder(null, "Fidelidade - Pontos", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Tahoma", 0, 12))); // NOI18N

        jLabel6.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel6.setText("Pontos Validos:");

        jLabel34.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel34.setText("Pontos Para Retirar:");

        txtPtsVale.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        txtPtsVale.setText("0");

        txtPtsRetira.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        txtPtsRetira.setText("0");

        javax.swing.GroupLayout jPanel9Layout = new javax.swing.GroupLayout(jPanel9);
        jPanel9.setLayout(jPanel9Layout);
        jPanel9Layout.setHorizontalGroup(
            jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel9Layout.createSequentialGroup()
                .addContainerGap(18, Short.MAX_VALUE)
                .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(jLabel34, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jLabel6, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(txtPtsVale, javax.swing.GroupLayout.DEFAULT_SIZE, 71, Short.MAX_VALUE)
                    .addComponent(txtPtsRetira)))
        );
        jPanel9Layout.setVerticalGroup(
            jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel9Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel6)
                    .addComponent(txtPtsVale, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel34)
                    .addComponent(txtPtsRetira, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(45, Short.MAX_VALUE))
        );

        jPanel18.setBorder(javax.swing.BorderFactory.createTitledBorder(null, "Cardapio Digital", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Tahoma", 0, 12))); // NOI18N

        ckCardapio.setText("Envia Cardapio Online");

        jScrollPane3.setBorder(javax.swing.BorderFactory.createTitledBorder("Descritivo Cardapio"));

        txtDescritivo.setColumns(20);
        txtDescritivo.setLineWrap(true);
        txtDescritivo.setRows(5);
        jScrollPane3.setViewportView(txtDescritivo);

        jButton2.setText("Procurar Imagem");
        jButton2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton2ActionPerformed(evt);
            }
        });

        jPanel19.setBorder(javax.swing.BorderFactory.createTitledBorder(null, "Imagem Tam. 200x150", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Tahoma", 0, 12))); // NOI18N

        javax.swing.GroupLayout jPanel19Layout = new javax.swing.GroupLayout(jPanel19);
        jPanel19.setLayout(jPanel19Layout);
        jPanel19Layout.setHorizontalGroup(
            jPanel19Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(lbImagem, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, 207, javax.swing.GroupLayout.PREFERRED_SIZE)
        );
        jPanel19Layout.setVerticalGroup(
            jPanel19Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel19Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(lbImagem, javax.swing.GroupLayout.PREFERRED_SIZE, 131, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        javax.swing.GroupLayout jPanel18Layout = new javax.swing.GroupLayout(jPanel18);
        jPanel18.setLayout(jPanel18Layout);
        jPanel18Layout.setHorizontalGroup(
            jPanel18Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel18Layout.createSequentialGroup()
                .addComponent(jScrollPane3, javax.swing.GroupLayout.PREFERRED_SIZE, 350, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGroup(jPanel18Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel18Layout.createSequentialGroup()
                        .addGap(18, 18, 18)
                        .addComponent(ckCardapio))
                    .addGroup(jPanel18Layout.createSequentialGroup()
                        .addGap(66, 66, 66)
                        .addComponent(jButton2))
                    .addGroup(jPanel18Layout.createSequentialGroup()
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jPanel19, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addContainerGap())
        );
        jPanel18Layout.setVerticalGroup(
            jPanel18Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel18Layout.createSequentialGroup()
                .addGroup(jPanel18Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(jPanel18Layout.createSequentialGroup()
                        .addComponent(ckCardapio)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jPanel19, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jButton2))
                    .addComponent(jScrollPane3))
                .addContainerGap())
        );

        javax.swing.GroupLayout jPanel2Layout = new javax.swing.GroupLayout(jPanel2);
        jPanel2.setLayout(jPanel2Layout);
        jPanel2Layout.setHorizontalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jPanel18, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addComponent(jPanel9, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(0, 0, Short.MAX_VALUE)))
                .addContainerGap())
        );
        jPanel2Layout.setVerticalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jPanel18, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jPanel9, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(28, 28, 28))
        );

        jTabbedPane1.addTab("Clube / Cardapio", jPanel2);

        jPanel16.addComponentListener(new java.awt.event.ComponentAdapter() {
            public void componentShown(java.awt.event.ComponentEvent evt) {
                jPanel16ComponentShown(evt);
            }
        });

        jPanel17.setBorder(javax.swing.BorderFactory.createTitledBorder("Item da Composição"));

        txtCodigo.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        txtCodigo.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtCodigoActionPerformed(evt);
            }
        });

        lbBtnPesquisa.setIcon(new javax.swing.ImageIcon(getClass().getResource("/imagens/Procura_1.png"))); // NOI18N
        lbBtnPesquisa.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                lbBtnPesquisaMouseClicked(evt);
            }
        });

        jLabel35.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel35.setText("Codigo:");

        jLabel36.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel36.setText("Descrição:");

        jLabel37.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel37.setText("Qnt:");

        txtQntComp.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        txtQntComp.setText("1");
        txtQntComp.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtQntCompActionPerformed(evt);
            }
        });

        btnConfirmaProdComp.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        btnConfirmaProdComp.setText("Confirma");
        btnConfirmaProdComp.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnConfirmaProdCompActionPerformed(evt);
            }
        });

        jButton3.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jButton3.setText("Excluir");
        jButton3.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton3ActionPerformed(evt);
            }
        });

        jLabel38.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel38.setText("Perca %");

        jLabel39.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel39.setText("Custo %");

        txtPerPerca.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        txtPerPerca.setText("0");
        txtPerPerca.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtPerPercaActionPerformed(evt);
            }
        });

        txtPercCusto.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        txtPercCusto.setText("100");
        txtPercCusto.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtPercCustoActionPerformed(evt);
            }
        });

        txtCustoVl.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        txtCustoVl.setText("0,00");
        txtCustoVl.setEnabled(false);

        javax.swing.GroupLayout jPanel17Layout = new javax.swing.GroupLayout(jPanel17);
        jPanel17.setLayout(jPanel17Layout);
        jPanel17Layout.setHorizontalGroup(
            jPanel17Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel17Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel17Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel17Layout.createSequentialGroup()
                        .addComponent(jLabel36)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(lbNome, javax.swing.GroupLayout.PREFERRED_SIZE, 239, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(lbCodigoComp, javax.swing.GroupLayout.PREFERRED_SIZE, 103, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                    .addGroup(jPanel17Layout.createSequentialGroup()
                        .addGroup(jPanel17Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel35)
                            .addComponent(jLabel37))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(jPanel17Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel17Layout.createSequentialGroup()
                                .addComponent(txtQntComp, javax.swing.GroupLayout.PREFERRED_SIZE, 61, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                .addComponent(jLabel38)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(txtPerPerca, javax.swing.GroupLayout.PREFERRED_SIZE, 38, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(jPanel17Layout.createSequentialGroup()
                                .addComponent(txtCodigo, javax.swing.GroupLayout.PREFERRED_SIZE, 128, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                .addComponent(lbBtnPesquisa)))
                        .addGap(18, 18, 18)
                        .addComponent(jLabel39)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(txtPercCusto, javax.swing.GroupLayout.PREFERRED_SIZE, 38, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(txtCustoVl, javax.swing.GroupLayout.PREFERRED_SIZE, 38, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 12, Short.MAX_VALUE)
                        .addComponent(btnConfirmaProdComp)
                        .addGap(18, 18, 18)
                        .addComponent(jButton3))))
        );
        jPanel17Layout.setVerticalGroup(
            jPanel17Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel17Layout.createSequentialGroup()
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGroup(jPanel17Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(lbNome, javax.swing.GroupLayout.DEFAULT_SIZE, 20, Short.MAX_VALUE)
                    .addComponent(jLabel36, javax.swing.GroupLayout.DEFAULT_SIZE, 20, Short.MAX_VALUE)
                    .addComponent(lbCodigoComp, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel17Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(txtCodigo, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(lbBtnPesquisa)
                    .addComponent(jLabel35))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel17Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel37)
                    .addComponent(txtQntComp, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btnConfirmaProdComp)
                    .addComponent(jButton3)
                    .addComponent(jLabel38)
                    .addComponent(jLabel39)
                    .addComponent(txtPerPerca, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(txtPercCusto, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(txtCustoVl, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(20, 20, 20))
        );

        jPanel17Layout.linkSize(javax.swing.SwingConstants.VERTICAL, new java.awt.Component[] {lbBtnPesquisa, txtCodigo});

        tbComp.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        tbComp.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {
                "Codigo", "Descricao", "Quantidade", "Perca %", "Custo %", "Custo R$"
            }
        ) {
            boolean[] canEdit = new boolean [] {
                false, false, false, false, false, false
            };

            public boolean isCellEditable(int rowIndex, int columnIndex) {
                return canEdit [columnIndex];
            }
        });
        tbComp.setAutoResizeMode(javax.swing.JTable.AUTO_RESIZE_OFF);
        tbComp.setRowHeight(20);
        tbComp.getTableHeader().setReorderingAllowed(false);
        jScrollPane1.setViewportView(tbComp);
        if (tbComp.getColumnModel().getColumnCount() > 0) {
            tbComp.getColumnModel().getColumn(0).setResizable(false);
            tbComp.getColumnModel().getColumn(0).setPreferredWidth(105);
            tbComp.getColumnModel().getColumn(1).setResizable(false);
            tbComp.getColumnModel().getColumn(1).setPreferredWidth(110);
            tbComp.getColumnModel().getColumn(2).setResizable(false);
            tbComp.getColumnModel().getColumn(2).setPreferredWidth(80);
            tbComp.getColumnModel().getColumn(2).setHeaderValue("Quantidade");
            tbComp.getColumnModel().getColumn(3).setResizable(false);
            tbComp.getColumnModel().getColumn(3).setPreferredWidth(80);
            tbComp.getColumnModel().getColumn(3).setHeaderValue("Perca %");
            tbComp.getColumnModel().getColumn(4).setResizable(false);
            tbComp.getColumnModel().getColumn(4).setPreferredWidth(80);
            tbComp.getColumnModel().getColumn(4).setHeaderValue("Custo %");
            tbComp.getColumnModel().getColumn(5).setResizable(false);
            tbComp.getColumnModel().getColumn(5).setPreferredWidth(80);
            tbComp.getColumnModel().getColumn(5).setHeaderValue("Custo R$");
        }

        javax.swing.GroupLayout jPanel16Layout = new javax.swing.GroupLayout(jPanel16);
        jPanel16.setLayout(jPanel16Layout);
        jPanel16Layout.setHorizontalGroup(
            jPanel16Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel16Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel16Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jPanel17, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jScrollPane1))
                .addContainerGap())
        );
        jPanel16Layout.setVerticalGroup(
            jPanel16Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel16Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jPanel17, javax.swing.GroupLayout.PREFERRED_SIZE, 132, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jScrollPane1, javax.swing.GroupLayout.DEFAULT_SIZE, 270, Short.MAX_VALUE)
                .addContainerGap())
        );

        javax.swing.GroupLayout jPanel10Layout = new javax.swing.GroupLayout(jPanel10);
        jPanel10.setLayout(jPanel10Layout);
        jPanel10Layout.setHorizontalGroup(
            jPanel10Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel10Layout.createSequentialGroup()
                .addComponent(jPanel16, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addContainerGap())
        );
        jPanel10Layout.setVerticalGroup(
            jPanel10Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel10Layout.createSequentialGroup()
                .addComponent(jPanel16, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addContainerGap())
        );

        jTabbedPane1.addTab("Composição", jPanel10);

        jPanel1.setBackground(new java.awt.Color(255, 255, 255));

        jLabel46.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel46.setText("Quantidade:");

        jLabel47.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel47.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabel47.setText("Preço: ");

        txtPrecoAtacarejo.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        txtPrecoAtacarejo.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtPrecoAtacarejoActionPerformed(evt);
            }
        });

        txtQntatacarejo.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N

        btnIncluiAtacarejo.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        btnIncluiAtacarejo.setIcon(new javax.swing.ImageIcon(getClass().getResource("/imagens/confirma99.png"))); // NOI18N
        btnIncluiAtacarejo.setText("Adicionar");
        btnIncluiAtacarejo.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnIncluiAtacarejoActionPerformed(evt);
            }
        });

        tbPrecAtacarejo.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        tbPrecAtacarejo.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {
                "Quantidade", "Preço"
            }
        ) {
            boolean[] canEdit = new boolean [] {
                false, false
            };

            public boolean isCellEditable(int rowIndex, int columnIndex) {
                return canEdit [columnIndex];
            }
        });
        tbPrecAtacarejo.setRowHeight(20);
        tbPrecAtacarejo.getTableHeader().setReorderingAllowed(false);
        jScrollPane2.setViewportView(tbPrecAtacarejo);
        if (tbPrecAtacarejo.getColumnModel().getColumnCount() > 0) {
            tbPrecAtacarejo.getColumnModel().getColumn(0).setResizable(false);
            tbPrecAtacarejo.getColumnModel().getColumn(0).setPreferredWidth(105);
            tbPrecAtacarejo.getColumnModel().getColumn(1).setResizable(false);
            tbPrecAtacarejo.getColumnModel().getColumn(1).setPreferredWidth(110);
        }

        jButton1.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jButton1.setIcon(new javax.swing.ImageIcon(getClass().getResource("/imagens/cancelarpdv.png"))); // NOI18N
        jButton1.setText("Remover");
        jButton1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton1ActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addGap(19, 19, 19)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(jLabel46, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jLabel47, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(txtPrecoAtacarejo)
                    .addComponent(txtQntatacarejo, javax.swing.GroupLayout.DEFAULT_SIZE, 95, Short.MAX_VALUE))
                .addGap(55, 55, 55)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(jButton1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(btnIncluiAtacarejo, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addContainerGap(244, Short.MAX_VALUE))
            .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(jPanel1Layout.createSequentialGroup()
                    .addGap(15, 15, 15)
                    .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 215, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addContainerGap(369, Short.MAX_VALUE)))
        );
        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addContainerGap()
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel47)
                            .addComponent(txtPrecoAtacarejo, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel46)
                            .addComponent(txtQntatacarejo, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addGap(22, 22, 22)
                        .addComponent(btnIncluiAtacarejo)))
                .addGap(18, 18, 18)
                .addComponent(jButton1, javax.swing.GroupLayout.PREFERRED_SIZE, 36, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(323, Short.MAX_VALUE))
            .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(jPanel1Layout.createSequentialGroup()
                    .addGap(85, 85, 85)
                    .addComponent(jScrollPane2, javax.swing.GroupLayout.DEFAULT_SIZE, 345, Short.MAX_VALUE)
                    .addContainerGap()))
        );

        jPanel1Layout.linkSize(javax.swing.SwingConstants.VERTICAL, new java.awt.Component[] {btnIncluiAtacarejo, jButton1});

        jTabbedPane1.addTab("Atacarejo", jPanel1);

        jPanel11.setBackground(new java.awt.Color(87, 140, 140));
        jPanel11.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(0, 153, 102)));

        BtnCancelarCadastroProdutos.setIcon(new javax.swing.ImageIcon(getClass().getResource("/imagens/Cancela.png"))); // NOI18N
        BtnCancelarCadastroProdutos.setText("Cancelar");
        BtnCancelarCadastroProdutos.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                BtnCancelarCadastroProdutosActionPerformed(evt);
            }
        });

        BtnGravarCadastroProdutos.setIcon(new javax.swing.ImageIcon(getClass().getResource("/imagens/Confirma.png"))); // NOI18N
        BtnGravarCadastroProdutos.setText("Gravar");
        BtnGravarCadastroProdutos.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                BtnGravarCadastroProdutosActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel11Layout = new javax.swing.GroupLayout(jPanel11);
        jPanel11.setLayout(jPanel11Layout);
        jPanel11Layout.setHorizontalGroup(
            jPanel11Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel11Layout.createSequentialGroup()
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(BtnCancelarCadastroProdutos)
                .addGap(58, 58, 58)
                .addComponent(BtnGravarCadastroProdutos)
                .addGap(43, 43, 43))
        );
        jPanel11Layout.setVerticalGroup(
            jPanel11Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel11Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel11Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(BtnCancelarCadastroProdutos)
                    .addComponent(BtnGravarCadastroProdutos))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        jPanel11Layout.linkSize(javax.swing.SwingConstants.VERTICAL, new java.awt.Component[] {BtnCancelarCadastroProdutos, BtnGravarCadastroProdutos});

        jPanel13.setBackground(new java.awt.Color(255, 255, 255));
        jPanel13.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED));

        jLabel9.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel9.setText("Referência :");

        TxtReferencia.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N

        TxtCodBarras.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        TxtCodBarras.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                TxtCodBarrasFocusLost(evt);
            }
        });
        TxtCodBarras.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                TxtCodBarrasActionPerformed(evt);
            }
        });

        jLabel7.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel7.setText("Cód Barras :");

        BtnGerarCodigo.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        BtnGerarCodigo.setText("Gerar Codigo");
        BtnGerarCodigo.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                BtnGerarCodigoActionPerformed(evt);
            }
        });

        jLabel8.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel8.setText("Cód. Baixa :");

        TxtCodBaixa.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N

        jPanel14.setBackground(new java.awt.Color(233, 242, 242));
        jPanel14.setBorder(javax.swing.BorderFactory.createTitledBorder("Custo"));

        jLabel17.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel17.setText("Compra :");

        TxtPrecoCompra.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        TxtPrecoCompra.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        TxtPrecoCompra.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                TxtPrecoCompraActionPerformed(evt);
            }
        });

        jLabel28.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel28.setText("Médio :");

        txtCustoMedio.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        txtCustoMedio.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        txtCustoMedio.setText("0,00");
        txtCustoMedio.setEnabled(false);

        jLabel29.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel29.setText("Atual :");

        txtCustoAtual.setEditable(false);
        txtCustoAtual.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        txtCustoAtual.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        txtCustoAtual.setText("0,00");

        javax.swing.GroupLayout jPanel14Layout = new javax.swing.GroupLayout(jPanel14);
        jPanel14.setLayout(jPanel14Layout);
        jPanel14Layout.setHorizontalGroup(
            jPanel14Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel14Layout.createSequentialGroup()
                .addGap(4, 4, 4)
                .addGroup(jPanel14Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(jPanel14Layout.createSequentialGroup()
                        .addGroup(jPanel14Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(jLabel29)
                            .addComponent(jLabel28))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(jPanel14Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                            .addComponent(txtCustoMedio, javax.swing.GroupLayout.DEFAULT_SIZE, 94, Short.MAX_VALUE)
                            .addComponent(txtCustoAtual)))
                    .addGroup(jPanel14Layout.createSequentialGroup()
                        .addComponent(jLabel17)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(TxtPrecoCompra, javax.swing.GroupLayout.PREFERRED_SIZE, 94, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addContainerGap(35, Short.MAX_VALUE))
        );
        jPanel14Layout.setVerticalGroup(
            jPanel14Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel14Layout.createSequentialGroup()
                .addGap(0, 0, Short.MAX_VALUE)
                .addGroup(jPanel14Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(TxtPrecoCompra, javax.swing.GroupLayout.PREFERRED_SIZE, 24, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel17))
                .addGap(18, 18, 18)
                .addGroup(jPanel14Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel28)
                    .addComponent(txtCustoMedio, javax.swing.GroupLayout.PREFERRED_SIZE, 24, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(24, 24, 24)
                .addGroup(jPanel14Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(txtCustoAtual, javax.swing.GroupLayout.PREFERRED_SIZE, 24, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel29))
                .addContainerGap())
        );

        jPanel15.setBackground(new java.awt.Color(233, 242, 242));
        jPanel15.setBorder(javax.swing.BorderFactory.createTitledBorder("Venda"));

        jLabel27.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel27.setText("Margem :");

        TxtMargem.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        TxtMargem.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        TxtMargem.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                TxtMargemFocusLost(evt);
            }
        });
        TxtMargem.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                TxtMargemActionPerformed(evt);
            }
        });

        jLabel19.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel19.setText("Preço Venda :");

        TxtPrecoVenda.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        TxtPrecoVenda.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        TxtPrecoVenda.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                TxtPrecoVendaActionPerformed(evt);
            }
        });

        jLabel30.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel30.setText("Sugestão :");

        txtSugestao.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        txtSugestao.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        txtSugestao.setEnabled(false);

        jLabel43.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel43.setText("Preço Oferta:");

        txtPrecoOferta.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        txtPrecoOferta.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        txtPrecoOferta.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtPrecoOfertaActionPerformed(evt);
            }
        });

        jLabel44.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel44.setText("Começo:");

        jLabel45.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel45.setText("Término:");

        try {
            ftComecoOferta.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.MaskFormatter("##/##/####")));
        } catch (java.text.ParseException ex) {
            ex.printStackTrace();
        }
        ftComecoOferta.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N

        try {
            ftFimOferta.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.MaskFormatter("##/##/####")));
        } catch (java.text.ParseException ex) {
            ex.printStackTrace();
        }
        ftFimOferta.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N

        javax.swing.GroupLayout jPanel15Layout = new javax.swing.GroupLayout(jPanel15);
        jPanel15.setLayout(jPanel15Layout);
        jPanel15Layout.setHorizontalGroup(
            jPanel15Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel15Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel15Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel19)
                    .addComponent(jLabel44, javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jLabel45, javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jLabel43, javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jLabel30, javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jLabel27, javax.swing.GroupLayout.Alignment.TRAILING))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel15Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(txtPrecoOferta)
                    .addComponent(TxtMargem)
                    .addComponent(TxtPrecoVenda)
                    .addComponent(txtSugestao, javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(ftComecoOferta)
                    .addComponent(ftFimOferta, javax.swing.GroupLayout.DEFAULT_SIZE, 89, Short.MAX_VALUE))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        jPanel15Layout.setVerticalGroup(
            jPanel15Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel15Layout.createSequentialGroup()
                .addGroup(jPanel15Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(TxtMargem, javax.swing.GroupLayout.PREFERRED_SIZE, 24, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel27))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel15Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(txtSugestao, javax.swing.GroupLayout.PREFERRED_SIZE, 24, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel30))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel15Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(TxtPrecoVenda, javax.swing.GroupLayout.PREFERRED_SIZE, 24, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel19))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel15Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(txtPrecoOferta, javax.swing.GroupLayout.PREFERRED_SIZE, 24, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel43))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel15Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(ftComecoOferta, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel44))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel15Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(ftFimOferta, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel45))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        jPanel8.setBackground(new java.awt.Color(233, 242, 242));
        jPanel8.setBorder(javax.swing.BorderFactory.createTitledBorder("Estoque"));

        jLabel14.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel14.setText("Atual :");

        TxtEstoque.setEditable(false);
        TxtEstoque.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        TxtEstoque.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        TxtEstoque.setText("0");
        TxtEstoque.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                TxtEstoqueActionPerformed(evt);
            }
        });

        jLabel15.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel15.setText("Mínimo :");

        TxtEstoqueMinimo.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        TxtEstoqueMinimo.setHorizontalAlignment(javax.swing.JTextField.RIGHT);

        jLabel16.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel16.setText("Fator :");
        jLabel16.setToolTipText("");

        TxtConversao.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        TxtConversao.setHorizontalAlignment(javax.swing.JTextField.RIGHT);

        jLabel18.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel18.setText("Un Comp :");

        CbUnidade1.setFont(new java.awt.Font("Tahoma", 0, 16)); // NOI18N
        CbUnidade1.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                CbUnidade1MouseClicked(evt);
            }
        });
        CbUnidade1.addComponentListener(new java.awt.event.ComponentAdapter() {
            public void componentShown(java.awt.event.ComponentEvent evt) {
                CbUnidade1ComponentShown(evt);
            }
        });
        CbUnidade1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                CbUnidade1ActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel8Layout = new javax.swing.GroupLayout(jPanel8);
        jPanel8.setLayout(jPanel8Layout);
        jPanel8Layout.setHorizontalGroup(
            jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel8Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel8Layout.createSequentialGroup()
                        .addGap(0, 0, Short.MAX_VALUE)
                        .addComponent(jLabel15)
                        .addGap(18, 18, 18)
                        .addComponent(TxtEstoqueMinimo, javax.swing.GroupLayout.PREFERRED_SIZE, 113, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanel8Layout.createSequentialGroup()
                        .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                .addComponent(jLabel16, javax.swing.GroupLayout.Alignment.TRAILING)
                                .addComponent(jLabel18, javax.swing.GroupLayout.Alignment.TRAILING))
                            .addGroup(jPanel8Layout.createSequentialGroup()
                                .addGap(17, 17, 17)
                                .addComponent(jLabel14)))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(CbUnidade1, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(TxtConversao)
                            .addComponent(TxtEstoque))))
                .addContainerGap())
        );
        jPanel8Layout.setVerticalGroup(
            jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel8Layout.createSequentialGroup()
                .addGap(6, 6, 6)
                .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(CbUnidade1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel18))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(TxtConversao, javax.swing.GroupLayout.PREFERRED_SIZE, 24, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel16))
                .addGap(11, 11, 11)
                .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(TxtEstoque, javax.swing.GroupLayout.PREFERRED_SIZE, 24, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel14))
                .addGap(11, 11, 11)
                .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel15)
                    .addComponent(TxtEstoqueMinimo, javax.swing.GroupLayout.PREFERRED_SIZE, 24, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(5, 5, 5))
        );

        BtnGerarCodigo1.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        BtnGerarCodigo1.setText("Trocar Barras");
        BtnGerarCodigo1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                BtnGerarCodigo1ActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel13Layout = new javax.swing.GroupLayout(jPanel13);
        jPanel13.setLayout(jPanel13Layout);
        jPanel13Layout.setHorizontalGroup(
            jPanel13Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel13Layout.createSequentialGroup()
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(jPanel8, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(jPanel14, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(jPanel15, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(43, 43, 43))
            .addGroup(jPanel13Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel13Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel13Layout.createSequentialGroup()
                        .addComponent(jLabel7)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(TxtCodBarras, javax.swing.GroupLayout.PREFERRED_SIZE, 135, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanel13Layout.createSequentialGroup()
                        .addComponent(jLabel9)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(TxtReferencia)))
                .addGap(58, 58, 58)
                .addComponent(jLabel8)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel13Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel13Layout.createSequentialGroup()
                        .addComponent(TxtCodBaixa, javax.swing.GroupLayout.PREFERRED_SIZE, 136, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(BtnGerarCodigo1, javax.swing.GroupLayout.PREFERRED_SIZE, 136, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addComponent(BtnGerarCodigo, javax.swing.GroupLayout.PREFERRED_SIZE, 136, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        jPanel13Layout.setVerticalGroup(
            jPanel13Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel13Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel13Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel13Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(TxtCodBarras, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(jLabel7)
                        .addComponent(jLabel8)
                        .addComponent(TxtCodBaixa, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addComponent(BtnGerarCodigo1, javax.swing.GroupLayout.PREFERRED_SIZE, 27, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(jPanel13Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel9)
                    .addComponent(TxtReferencia, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(BtnGerarCodigo, javax.swing.GroupLayout.PREFERRED_SIZE, 27, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGroup(jPanel13Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel13Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                        .addComponent(jPanel14, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(jPanel8, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                    .addComponent(jPanel15, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        jLabel31.setFont(new java.awt.Font("Segoe UI", 0, 11)); // NOI18N
        jLabel31.setForeground(new java.awt.Color(0, 102, 102));
        jLabel31.setText("- Arquivos / Produtos");

        jLabel32.setBackground(new java.awt.Color(255, 255, 255));
        jLabel32.setFont(new java.awt.Font("Segoe UI Semilight", 1, 36)); // NOI18N
        jLabel32.setForeground(new java.awt.Color(0, 153, 51));
        jLabel32.setText("Cadastro de Produtos");

        jLabel33.setIcon(new javax.swing.ImageIcon(getClass().getResource("/imagens/Prodprincipal.png"))); // NOI18N

        javax.swing.GroupLayout jPanel4Layout = new javax.swing.GroupLayout(jPanel4);
        jPanel4.setLayout(jPanel4Layout);
        jPanel4Layout.setHorizontalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel11, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addGroup(jPanel4Layout.createSequentialGroup()
                .addGap(10, 10, 10)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel4Layout.createSequentialGroup()
                        .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(jPanel5, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(jPanel13, javax.swing.GroupLayout.PREFERRED_SIZE, 673, Short.MAX_VALUE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 21, Short.MAX_VALUE)
                        .addComponent(jTabbedPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 608, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanel4Layout.createSequentialGroup()
                        .addComponent(jLabel33)
                        .addGap(18, 18, 18)
                        .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel32)
                            .addGroup(jPanel4Layout.createSequentialGroup()
                                .addGap(10, 10, 10)
                                .addComponent(jLabel31)))))
                .addGap(41, 41, 41))
        );
        jPanel4Layout.setVerticalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel4Layout.createSequentialGroup()
                .addGap(11, 11, 11)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel33)
                    .addGroup(jPanel4Layout.createSequentialGroup()
                        .addComponent(jLabel32, javax.swing.GroupLayout.PREFERRED_SIZE, 45, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(6, 6, 6)
                        .addComponent(jLabel31)))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addGroup(jPanel4Layout.createSequentialGroup()
                        .addComponent(jPanel5, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jPanel13, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                    .addComponent(jTabbedPane1))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 15, Short.MAX_VALUE)
                .addComponent(jPanel11, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
        );

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel4, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel4, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );

        pack();
        setLocationRelativeTo(null);
    }// </editor-fold>//GEN-END:initComponents

    private void TxtCodBarrasFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_TxtCodBarrasFocusLost
        if(clsaux.verificaNulo(TxtCodBarras.getText())==true|| TxtCodBarras.isEnabled()==false){}else{
            TxtCodBarras.setText(validaDigitosBarras.preencheCodigo(TxtCodBarras.getText()));
            TxtPrecoVenda.requestFocus();
            TxtCodBaixa.setText(TxtCodBarras.getText());
            if(ajustaBarra==true){
                barrascadastrada=validaBarrasCadastrada();
               // ajustaBarra=false;
            }
            
           
        }
    }//GEN-LAST:event_TxtCodBarrasFocusLost

    private void BtnGerarCodigoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_BtnGerarCodigoActionPerformed
        String codigo_barras=produtoDAO.PegaIdCodBarra();
        codigo_barras=validaDigitosBarras.preencheCodigo(codigo_barras);
        TxtCodBarras.setText(codigo_barras);
        TxtCodBaixa.setText(codigo_barras);
        TxtPrecoVenda.requestFocus();
    }//GEN-LAST:event_BtnGerarCodigoActionPerformed

    private void BtnCancelarCadastroProdutosActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_BtnCancelarCadastroProdutosActionPerformed
       int yn= JOptionPane.showConfirmDialog(null, "Deseja Cancelar a Operação?", "Cancelar Operação", JOptionPane.YES_NO_OPTION);
       if (yn== JOptionPane.YES_OPTION){
        this.dispose();
       }
       
    }//GEN-LAST:event_BtnCancelarCadastroProdutosActionPerformed

    private void BtnGravarCadastroProdutosActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_BtnGravarCadastroProdutosActionPerformed
     
        if (TxtCodigoInternoProdutos.getText().trim().equals("")||TxtCodigoInternoProdutos.getText().trim().equals("0")){
           barrascadastrada= validaBarrasCadastrada();
      }
        
        if (clsaux.verificaNulo(TxtCodBarras.getText())==true){
                JOptionPane.showMessageDialog(null, "Campo Codigo de Barras Invalido!!!");
            } else if(clsaux.verificaNulo(TxtCodBaixa.getText())==true){
                JOptionPane.showMessageDialog(null, "Campo Codigo de Baixa Invalido!!!");
            }else if(clsaux.verificaNulo(TxtPrecoVenda.getText())==true){
                JOptionPane.showMessageDialog(null, "Campo Preco de Venda Invalido!!!");
            }else if (TxtNcm.getText().equals("00000000")&& Integer.parseInt(clsDadosEmpresa.getRegime())<4&&clsaux.retornaId(CbTipo.getSelectedItem()).trim().equals("0")){
                JOptionPane.showMessageDialog(null, "Campo Ncm Invalido!!!");
            }
            else{
                if(barrascadastrada);
                else{
                    this.gravaDados();
                }
            }
      
    }//GEN-LAST:event_BtnGravarCadastroProdutosActionPerformed

    private void CbUnidade1MouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_CbUnidade1MouseClicked
        // TODO add your handling code here:
    }//GEN-LAST:event_CbUnidade1MouseClicked

    private void CbUnidade1ComponentShown(java.awt.event.ComponentEvent evt) {//GEN-FIRST:event_CbUnidade1ComponentShown
        // TODO add your handling code here:
    }//GEN-LAST:event_CbUnidade1ComponentShown

    private void CbUnidade1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_CbUnidade1ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_CbUnidade1ActionPerformed

    private void TxtMargemFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_TxtMargemFocusLost
        Double preccompra=Double.parseDouble(TxtPrecoCompra.getText().replaceAll(",","."));
        Double margem=0.00;
        if (TxtMargem.getText().isEmpty()||TxtMargem.getText().equals("")){
            TxtMargem.setText("0");
            margem=0.00;
        }else {
            margem= Double.parseDouble(TxtMargem.getText().replaceAll(",", "."));
        }
        Double sugestao= preccompra+preccompra*margem/100;
        txtSugestao.setText(clsaux.formato(sugestao));
    }//GEN-LAST:event_TxtMargemFocusLost

    private void formComponentShown(java.awt.event.ComponentEvent evt) {//GEN-FIRST:event_formComponentShown
       TxtDescricao.requestFocus();
    }//GEN-LAST:event_formComponentShown

    private void TxtDescricaoFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_TxtDescricaoFocusLost
        if (TxtCodigoInternoProdutos.getText().trim().equals("")||TxtCodigoInternoProdutos.getText().trim().equals("0")){
                String resumida=TxtDescricao.getText();
          if(resumida.length()>30){
              TxtResumida.setText(resumida.substring(0, 30));
          }else{
              TxtResumida.setText(resumida);
          }
        }
        
      
        
    }//GEN-LAST:event_TxtDescricaoFocusLost

    private void TxtMargemActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_TxtMargemActionPerformed
        TxtPrecoVenda.requestFocus();
    }//GEN-LAST:event_TxtMargemActionPerformed

    private void TxtEstoqueActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_TxtEstoqueActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_TxtEstoqueActionPerformed

    private void ckProducaoVendaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_ckProducaoVendaActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_ckProducaoVendaActionPerformed

    private void ckFichaConsumoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_ckFichaConsumoActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_ckFichaConsumoActionPerformed

    private void ckPesaAutActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_ckPesaAutActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_ckPesaAutActionPerformed

    private void cbBalancaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cbBalancaActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_cbBalancaActionPerformed

    private void btnincluirSetorActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnincluirSetorActionPerformed
        frmCadTabelas.tipo="S";
        frmCadTabelas dialog = new frmCadTabelas(new javax.swing.JFrame(), true);
        dialog.setLocationRelativeTo(null);
        dialog.setVisible(true);
        this.listaGrupos();
    }//GEN-LAST:event_btnincluirSetorActionPerformed

    private void btnIncluirSubActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnIncluirSubActionPerformed
        frmCadTabelas.tipo="SG";
        frmCadTabelas dialog = new frmCadTabelas(new javax.swing.JFrame(), true);
        dialog.setLocationRelativeTo(null);
        dialog.setVisible(true);
        this.listaGrupos();
    }//GEN-LAST:event_btnIncluirSubActionPerformed

    private void btnIncluirGrupoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnIncluirGrupoActionPerformed
        this.incluirNovoGrupo();
    }//GEN-LAST:event_btnIncluirGrupoActionPerformed

    private void CbGrupoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_CbGrupoActionPerformed
      
    }//GEN-LAST:event_CbGrupoActionPerformed

    private void CbSetorActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_CbSetorActionPerformed
        
    }//GEN-LAST:event_CbSetorActionPerformed

    private void CbTipoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_CbTipoActionPerformed
        

    }//GEN-LAST:event_CbTipoActionPerformed

    private void CbSubGrupoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_CbSubGrupoActionPerformed
        
    }//GEN-LAST:event_CbSubGrupoActionPerformed

    private void jPanel16ComponentShown(java.awt.event.ComponentEvent evt) {//GEN-FIRST:event_jPanel16ComponentShown
        this.buscaInf();
    }//GEN-LAST:event_jPanel16ComponentShown

    private void txtPercCustoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtPercCustoActionPerformed
        btnConfirmaProdComp.requestFocus();
    }//GEN-LAST:event_txtPercCustoActionPerformed

    private void jButton3ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton3ActionPerformed
        this.removerItemComposicao();
    }//GEN-LAST:event_jButton3ActionPerformed

    private void btnConfirmaProdCompActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnConfirmaProdCompActionPerformed
        this.confirmaItemComposicaoTabela();
    }//GEN-LAST:event_btnConfirmaProdCompActionPerformed

    private void txtCodigoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtCodigoActionPerformed
        clsLocalizaProduto localiza= new clsLocalizaProduto();
        localiza.setCodibarra(validaDigitosBarras.preencheCodigo(txtCodigo.getText()));
        try {
            produtoDAO.buscaProduto(localiza);
            lbNome.setText(localiza.getDescricao());
            lbCodigoComp.setText(localiza.getCodibarra());
            txtCustoVl.setText(clsaux.formato(localiza.getPreccusto()));
            txtQntComp.requestFocus();
        } catch (SQLException ex) {
            JOptionPane.showMessageDialog(null, "Produto Não Encontrado!!!");
            txtCodigo.setText("");
        }

    }//GEN-LAST:event_txtCodigoActionPerformed

    private void jPanel2ComponentShown(java.awt.event.ComponentEvent evt) {//GEN-FIRST:event_jPanel2ComponentShown

    }//GEN-LAST:event_jPanel2ComponentShown

    private void CbPisCofinsSaidaMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_CbPisCofinsSaidaMouseClicked

    }//GEN-LAST:event_CbPisCofinsSaidaMouseClicked

    private void CbPIsCofinsEntradaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_CbPIsCofinsEntradaActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_CbPIsCofinsEntradaActionPerformed

    private void CbPIsCofinsEntradaMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_CbPIsCofinsEntradaMouseClicked

    }//GEN-LAST:event_CbPIsCofinsEntradaMouseClicked

    private void CbCESTMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_CbCESTMouseClicked
        String ncm= TxtNcm.getText();
        DefaultComboBoxModel dfcbcest = new DefaultComboBoxModel (listaInfAdcDAO.listaCest(ncm).toArray());
        CbCEST.setModel(dfcbcest);
    }//GEN-LAST:event_CbCESTMouseClicked

    private void CbAliqIcmsMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_CbAliqIcmsMouseClicked

    }//GEN-LAST:event_CbAliqIcmsMouseClicked

    private void TxtDescricaoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_TxtDescricaoActionPerformed
        String resumida=TxtDescricao.getText();
        if(resumida.length()>30){
            TxtResumida.setText(resumida.substring(0, 30));
        }else{
            TxtResumida.setText(resumida);
        }
        TxtResumida.requestFocus();
    }//GEN-LAST:event_TxtDescricaoActionPerformed

    private void TxtResumidaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_TxtResumidaActionPerformed
       TxtCodBarras.requestFocus();
    }//GEN-LAST:event_TxtResumidaActionPerformed

    private void TxtCodBarrasActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_TxtCodBarrasActionPerformed
       TxtPrecoCompra.requestFocus();
    }//GEN-LAST:event_TxtCodBarrasActionPerformed

    private void TxtPrecoCompraActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_TxtPrecoCompraActionPerformed
      TxtMargem.requestFocus();
    }//GEN-LAST:event_TxtPrecoCompraActionPerformed

    private void TxtPrecoVendaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_TxtPrecoVendaActionPerformed
      BtnGravarCadastroProdutos.requestFocus();
    }//GEN-LAST:event_TxtPrecoVendaActionPerformed

    private void txtPrecoOfertaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtPrecoOfertaActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txtPrecoOfertaActionPerformed

    private void lbBtnPesquisaMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_lbBtnPesquisaMouseClicked
       localizaProduto.idchamado="9";
                    localizaProduto dialog = new localizaProduto(new javax.swing.JFrame(), true);
                    dialog.setLocationRelativeTo(null);
                    dialog.setVisible(true);
    }//GEN-LAST:event_lbBtnPesquisaMouseClicked

    private void txtQntCompActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtQntCompActionPerformed
       txtPerPerca.requestFocus();
    }//GEN-LAST:event_txtQntCompActionPerformed

    private void txtPerPercaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtPerPercaActionPerformed
        txtPercCusto.requestFocus();
    }//GEN-LAST:event_txtPerPercaActionPerformed

    private void ckImprimeEtiquetaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_ckImprimeEtiquetaActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_ckImprimeEtiquetaActionPerformed

    private void TxtNcmActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_TxtNcmActionPerformed
      consultaNcm();
    }//GEN-LAST:event_TxtNcmActionPerformed

    private void TxtNcmFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_TxtNcmFocusLost
       consultaNcm();
    }//GEN-LAST:event_TxtNcmFocusLost

    private void btnPesqActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnPesqActionPerformed
        
    }//GEN-LAST:event_btnPesqActionPerformed

    private void btnIncluiAtacarejoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnIncluiAtacarejoActionPerformed
        this.incluiRegistoAtacarejo();
    }//GEN-LAST:event_btnIncluiAtacarejoActionPerformed

    private void txtPrecoAtacarejoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtPrecoAtacarejoActionPerformed
        txtQntatacarejo.requestFocus();
    }//GEN-LAST:event_txtPrecoAtacarejoActionPerformed

    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton1ActionPerformed
        this.removerRegistroAtacarejo();
    }//GEN-LAST:event_jButton1ActionPerformed

    private void ckLocacaoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_ckLocacaoActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_ckLocacaoActionPerformed

    private void ckPrecoVariadoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_ckPrecoVariadoActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_ckPrecoVariadoActionPerformed

    private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton2ActionPerformed
       abrirProcuraArq();
    }//GEN-LAST:event_jButton2ActionPerformed

    private void jTabbedPane1ComponentShown(java.awt.event.ComponentEvent evt) {//GEN-FIRST:event_jTabbedPane1ComponentShown
       
    }//GEN-LAST:event_jTabbedPane1ComponentShown

    private void BtnGerarCodigo1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_BtnGerarCodigo1ActionPerformed
       TxtCodBarras.setEnabled(true);
       TxtCodBaixa.setEnabled(true);
       BtnGerarCodigo.setEnabled(true);
       ajustaBarra=true;
    }//GEN-LAST:event_BtnGerarCodigo1ActionPerformed
    
    public void abrirProcuraArq(){
        int retorno=flImagem.showOpenDialog(this);
        String img="\\\\"+conexao.ip+"\\c\\esfhera\\adm\\imagem\\";
        if (retorno==flImagem.APPROVE_OPTION){
            try {
                File arquivo=flImagem.getSelectedFile();
                prod.setUrlImagem(img+arquivo.getName());
                Files.copy(arquivo.toPath(), new File(prod.getUrlImagem()).toPath());
                carregarImagemItem();
            } catch (IOException ex) {
                Logger.getLogger(cadProdutos.class.getName()).log(Level.SEVERE, null, ex);
            }
        }else{
            JOptionPane.showMessageDialog(null, "Erro ao Localizar Arquivo!!!");
        }
    }
    
    public void carregarImagemItem(){
         try {
            Image imagem = ImageIO.read(new File(prod.getUrlImagem()));
            ImageIcon imagemIcon = new ImageIcon(imagem);
            lbImagem.setIcon(imagemIcon);
           
        } catch (IOException ex) {
             gravarLog.gravaSemMensagem(ex.toString());
            Logger.getLogger(FormEmpresa.class.getName()).log(Level.SEVERE, null, ex);
        }
    }
    public void incluirNovoGrupo(){
        frmCadTabelas.tipo="G";
        frmCadTabelas dialog = new frmCadTabelas(new javax.swing.JFrame(), true);
        dialog.setLocationRelativeTo(null);
        dialog.setVisible(true);
        this.listaGrupos();
    }
   
    public void listaGrupos(){
        DefaultComboBoxModel CbGrup = new DefaultComboBoxModel(listaGrupDAO.listagrupo().toArray());
        CbGrupo.setModel(CbGrup);
        DefaultComboBoxModel subgrupo = new DefaultComboBoxModel(listaGrupDAO.listaSubGrupo().toArray());
        CbSubGrupo.setModel(subgrupo);
        DefaultComboBoxModel setor = new DefaultComboBoxModel(listaGrupDAO.listaSetores().toArray());
        CbSetor.setModel(setor);
        DefaultComboBoxModel cbTipo= new DefaultComboBoxModel(listaGrupDAO.listaTipo().toArray());
        CbTipo.setModel(cbTipo);
        CbTipo.setSelectedIndex(0);
        DefaultComboBoxModel dfcbpis = new DefaultComboBoxModel (listaInfAdcDAO.listaPis("S").toArray());   
        CbPisCofinsSaida.setModel(dfcbpis);
        DefaultComboBoxModel dfcbpise = new DefaultComboBoxModel (listaInfAdcDAO.listaPis("E").toArray());   
        CbPIsCofinsEntrada.setModel(dfcbpise);
        DefaultComboBoxModel dfcbaliq = new DefaultComboBoxModel (listaInfAdcDAO.listaAliq().toArray());   
        CbAliqIcms.setModel(dfcbaliq);
        DefaultComboBoxModel dfcbunid = new DefaultComboBoxModel(listaInfAdcDAO.pegaUnid().toArray());
        CbUnidade.setModel(dfcbunid);
        DefaultComboBoxModel dfBalanca = new DefaultComboBoxModel(listaInfAdcDAO.retornaBalanca().toArray());
        cbBalanca.setModel(dfBalanca);
        InputMap imp= this.getRootPane().getInputMap(JPanel.WHEN_IN_FOCUSED_WINDOW);
        imp.put(KeyStroke.getKeyStroke(KeyEvent.VK_F10,0),"busca");
        this.getRootPane().setInputMap(JPanel.WHEN_IN_FOCUSED_WINDOW, imp);
        this.getRootPane().getActionMap().put("busca", new AbstractAction(){
            public void actionPerformed(ActionEvent ev){
                if(txtCodigo.isFocusable()==true){
                    localizaProduto.idchamado="9";
                    localizaProduto dialog = new localizaProduto(new javax.swing.JFrame(), true);
                    dialog.setLocationRelativeTo(null);
                    dialog.setVisible(true);
                
                }
                
            }
        });
    }
    public void consultaNcm(){
     String descncm= ncmDAO.retornaNcmValido(TxtNcm.getText());
        if(descncm.equals("Ncm Invalido")){
            TxtNcm.setText("00000000");
        }else{
            txtDescNcm.setText(descncm);
        }
    
    }
    public Boolean validaBarrasCadastrada(){
        String cod=TxtCodBarras.getText();
        if(produtoDAO.verificaBarrasCadastrada(cod)){
           /*int yn= JOptionPane.showConfirmDialog(null, "Codigo De barras Já Existe No Banco de Dados\nDeseja Gravar Para esse Produto?", "Conflito De Codigos", 
                   JOptionPane.YES_NO_OPTION);
             if (yn== JOptionPane.YES_OPTION){
             }else{
                 TxtCodBarras.setText("");
                 TxtCodBaixa.setText("");
             }*/
           
           JOptionPane.showMessageDialog(null, "Codigo já Exsite no Banco de Dados!!!");
            //TxtCodBarras.setText("");
            //TxtCodBaixa.setText("");
            return true;
        }else{
            return false;
        }
    }
    
    
    public void telaalterar(produtos prod, Unidades unid){
            this.prod=prod;
            TxtCodigoInternoProdutos.setText(Integer.toString(prod.getid()));
            TxtDescricao.setText(prod.getNomecurto());
            TxtResumida.setText(prod.getNomelongo());
            TxtNcm.setText(prod.getNcm());
            TxtReferencia.setText(prod.getReferencia());
            TxtCodBarras.setText(prod.getCodigo());
            TxtCodBaixa.setText(prod.getBaixa());
            TxtEstoqueMinimo.setText(prod.getEstminimo());
            TxtConversao.setText(prod.getFator());
            TxtPrecoCompra.setText(clsaux.formato(Double.parseDouble(prod.getPreco_custo())));
            txtCustoAtual.setText(clsaux.formato(Double.parseDouble(prod.getCusto_atual())));
            TxtMargem.setText(prod.getMargem());
            TxtPrecoVenda.setText(clsaux.formato(Double.parseDouble(prod.getPreco_venda())));
            txtDescritivo.setText(prod.getDescritivoCardapio());
            CbUnidade.setSelectedItem(prod.getUnid_venda());
            CbCEST.setSelectedItem(prod.getCest());
            CbAliqIcms.addItem(prod.getAliq_icms());
            CbPIsCofinsEntrada.addItem(prod.getPis_ent());
            CbPisCofinsSaida.addItem(prod.getPis_sai());
            CbCst.setSelectedItem(prod.getSittributaria());
            clsDadosEstoque estoque=produtoDAO.retornaValorEstoque(prod.getCodi_barra());
            TxtEstoque.setText(clsaux.formato3(estoque.getEstoque()));
            estoqueAntigo=TxtEstoque.getText();
            txtCustoMedio.setText(clsaux.formato(estoque.getCustomedio()));
            txtPtsVale.setText(prod.getPtsvale());
            txtPtsRetira.setText(prod.getPtsretira());
            cbBalanca.setSelectedIndex(Integer.parseInt(prod.getBalanca()));
            cbPesavel.setSelectedItem(prod.getPesavel());
            txtPrecoOferta.setText(clsaux.formato(prod.getPreco_oferta()));
            ftComecoOferta.setText(clsaux.convertDataExib(prod.getComeco()));
            ftFimOferta.setText(clsaux.convertDataExib(prod.getFim()));
            ftValidade.setText(clsaux.convertDataExib(prod.getDatavalidade()));
            if(prod.getImp_ficha().equals("S")) ckFichaConsumo.setSelected(true);
            if(prod.getPesagem_aut().equals("Sim")) ckPesaAut.setSelected(true);
            if(prod.getAtivo().equals("N"))CkBoxInativo.setSelected(true);
            if (prod.getBaixa_producao().equals("S")) ckProducaoVenda.setSelected(true);
            if(prod.getImprimeEtiqueta().equals("S")) ckImprimeEtiqueta.setSelected(true);
            if(prod.getTemLocacao().equals("S")) ckLocacao.setSelected(true);
            if(clsaux.trataCampoNuloConfig(prod.getPrecoVariado()).equals("N"));else ckPrecoVariado.setSelected(true);
            if(clsaux.trataCampoNuloConfig(prod.getEnviaCardapio()).equals("N"));else ckCardapio.setSelected(true);
            clsaux.carregaComboBox(CbGrupo, clsaux.retornaId(prod.getGrupo()));
            clsaux.carregaComboBox(CbSubGrupo, clsaux.trataCampoNulo(prod.getSubgrupo()));
            clsaux.carregaComboBox(CbTipo, prod.getTipo());
            clsaux.carregaComboBox(cbImpProd, clsaux.trataCampoNuloConfig(prod.getImpressoraProducao()));
            if(prod.getId()>0){
                TxtCodBarras.setEnabled(false);
                TxtCodBaixa.setEnabled(false);
                BtnGerarCodigo.setEnabled(false);
            }
            this.buscaInf();
            
            if(clsaux.trataCampoNulo(prod.getTemAtacarejo()).equals("0")||prod.getTemAtacarejo().equals("N")){}else {
                carregarPrecoAtacarejo();
            }
            consultaNcm();
            if(clsaux.trataCampoNulo(prod.getUrlImagem()).length()>5){
                carregarImagemItem();
            }
            
    }
    public void iniciaCampos(){
        TxtPrecoCompra.setText("0,00");
        TxtMargem.setText("0");
        TxtConversao.setText("1");
        TxtNcm.setText("00000000");
        
        
    }
    public void incluiRegistoAtacarejo(){
        String qnt,prec="";
        qnt=clsaux.capturaValor(txtQntatacarejo.getText());
        prec=clsaux.capturaValor(txtPrecoAtacarejo.getText());
        if(clsaux.verificaNulo(qnt)==false|| clsaux.verificaNulo(prec)==false){
        
            DefaultTableModel tb = (DefaultTableModel) tbPrecAtacarejo.getModel();
            tb.addRow(new Object[]{
                qnt,prec
            });
            txtQntatacarejo.setText("");
            txtPrecoAtacarejo.setText("");
        }
    }
    public void removerRegistroAtacarejo(){
        String qnt= tbPrecAtacarejo.getValueAt(tbPrecAtacarejo.getSelectedRow(), 0).toString();
        prodDAO.removerPrecoAtacarejo(TxtCodBarras.getText(), clsaux.capturaValores(qnt));
        carregarPrecoAtacarejo();
        
    }
    public void validarCampoUsuario(){
        if(permissaoUsuarioDAO.verificaPermissaoUsuConectado("101"));else {
            txtCustoAtual.setVisible(false);
            txtCustoMedio.setVisible(false);
            TxtPrecoCompra.setVisible(false);
        }
        if(permissaoUsuarioDAO.verificaPermissaoUsuConectado("102"));else {
        
            TxtPrecoCompra.setEnabled(false);
        }
        if(permissaoUsuarioDAO.verificaPermissaoUsuConectado("104"));else {
            TxtPrecoVenda.setEnabled(false);
            txtPrecoOferta.setEnabled(false);
        }
       if(permissaoUsuarioDAO.verificaPermissaoUsuConectado("113")){
           TxtEstoque.setEditable(true);
       }else {
           TxtEstoque.setEditable(false);
       }
    
    }
    public void gravaDados(){
        prod.setNomelongo(TxtDescricao.getText());
        prod.setNomecurto(TxtResumida.getText());
        prod.setNcm(TxtNcm.getText());
        prod.setPreco_custo(TxtPrecoCompra.getText().replace(",", "."));
        prod.setCusto_atual(TxtPrecoCompra.getText().replace(",", "."));
        prod.setCusto_medio(TxtPrecoCompra.getText().replace(",", "."));
        prod.setMargem(TxtMargem.getText().replaceAll(",", "."));
        prod.setPreco_venda(TxtPrecoVenda.getText().replace(",", "."));
        prod.setCodigo(TxtCodBarras.getText());
        prod.setBaixa(TxtCodBaixa.getText());
        prod.setFator(TxtConversao.getText());
        prod.setReferencia(TxtReferencia.getText());
        prod.setEstminimo(TxtEstoqueMinimo.getText());
        prod.setUnid_venda(CbUnidade.getSelectedItem().toString());
        prod.setSittributaria(CbCst.getSelectedItem().toString());
        prod.setAliq_icms(CbAliqIcms.getSelectedItem().toString());
        prod.setPis_ent(CbPIsCofinsEntrada.getSelectedItem().toString());
        prod.setPis_sai(CbPisCofinsSaida.getSelectedItem().toString());
        prod.setPtsvale(txtPtsVale.getText());
        prod.setPtsretira(txtPtsRetira.getText());
        prod.setTipo(clsaux.retornaId(CbTipo.getSelectedItem()));
        prod.setPreco_oferta(clsaux.capturaValores(txtPrecoOferta.getText()));
        prod.setDescritivoCardapio(txtDescritivo.getText());
        if(ftComecoOferta.getText().equals("00/00/0000")||ftFimOferta.getText().equals("00/00/0000")){
            prod.setComeco(null);
            prod.setFim(null);
        }else{
            prod.setComeco(ftComecoOferta.getText());
            prod.setFim(ftFimOferta.getText());
        }
        if(ftValidade.getText().equals("00/00/0000")){
            prod.setDatavalidade(null);
        }else{
            prod.setDatavalidade(ftValidade.getText());
        }
        if(ckPesaAut.isSelected()==true)prod.setPesagem_aut("Sim");else prod.setPesagem_aut("Nao");
        if(ckFichaConsumo.isSelected()==true) prod.setImp_ficha("S");else prod.setImp_ficha("N");
        if(CkBoxInativo.isSelected()==true) prod.setAtivo("N"); else prod.setAtivo("S");
        if(ckProducaoVenda.isSelected()==true) prod.setBaixa_producao("S"); else prod.setBaixa_producao("N");
        if(ckImprimeEtiqueta.isSelected()==true) prod.setImprimeEtiqueta("S"); else prod.setImprimeEtiqueta("N");
        if(tbPrecAtacarejo.getRowCount()>0) prod.setTemAtacarejo("S"); else prod.setTemAtacarejo("N");
        if(ckLocacao.isSelected())prod.setTemLocacao("S"); else prod.setTemLocacao("N");
        if(ckPrecoVariado.isSelected()) prod.setPrecoVariado("S"); else prod.setPrecoVariado("N");
        if (ckCardapio.isSelected()) prod.setEnviaCardapio("S"); else prod.setEnviaCardapio("N");
        prod.setPesavel(cbPesavel.getSelectedItem().toString());
        prod.setBalanca(clsaux.retornaId(cbBalanca.getSelectedItem().toString()));
        prod.setImpressoraProducao(clsaux.retornaId(cbImpProd.getSelectedItem()));
        prod.setGrupo(clsaux.retornaId(CbGrupo.getSelectedItem()).trim());
        prod.setSubgrupo(clsaux.retornaId(CbSubGrupo.getSelectedItem()).trim());
        prod.setSetor(clsaux.retornaId(CbSetor.getSelectedItem()).trim());
        try{
            String a=CbCEST.getSelectedItem().toString();
            prod.setCest(a);
        }catch (NullPointerException en ){
            prod.setCest("0");
        }
        if (TxtCodigoInternoProdutos.getText().trim().equals("")||TxtCodigoInternoProdutos.getText().trim().equals("0")){
            prodDAO.Inserir(prod);
            JOptionPane.showMessageDialog(null, "Registro Gravado Com Sucesso");
        }else {
            prod.setid(Integer.parseInt(TxtCodigoInternoProdutos.getText().trim()));
            prodDAO.Alterar(prod);
        }
        this.inserirItemComposicao();
        this.inseirPrecoAtacarejo();
        this.trataAjusteEstoque(String.valueOf(prod.getId()));
        this.dispose();
        CRUDprodutos.BtnPesquisaProdutos.requestFocus();
    }
    public void trataAjusteEstoque(String pro){
        Double valorcampo=0.00;
        valorcampo=clsaux.capturaValores(TxtEstoque.getText());
        if(valorcampo.compareTo(clsaux.capturaValores(estoqueAntigo))==0){
        }
        else{
            produtoDAO dao= new  produtoDAO();
            dao.ajustaEstoqueItem(clsaux.formatoNfe3(valorcampo), pro);
        }
    }
    public void carregarPrecoAtacarejo(){
      
      List<tprecos_atacarejo> precos=prodDAO.retornaListaPrecosAtacarejo(TxtCodBarras.getText());
      DefaultTableModel tb= (DefaultTableModel) tbPrecAtacarejo.getModel();
      tb.setNumRows(0);
      for(tprecos_atacarejo preco: precos){
          tb.addRow(new Object[]{
              clsaux.formato(preco.getQuantidade()),
              clsaux.formato(preco.getPreco())
          });
      }
    }
    public void inseirPrecoAtacarejo(){
        List<tprecos_atacarejo> precos= new ArrayList<>();
        for(int i=0; i<tbPrecAtacarejo.getRowCount();i++){
            tprecos_atacarejo pre= new tprecos_atacarejo();
            pre.setCodigo(TxtCodBarras.getText());
            pre.setPreco(clsaux.capturaValores(tbPrecAtacarejo.getValueAt(i, 1).toString()));
            pre.setQuantidade(clsaux.capturaValores(tbPrecAtacarejo.getValueAt(i, 0).toString()));
            precos.add(pre);
        }
        prodDAO.cadastraPrecosAtacarejo(precos);
    }
    public void buscaInf(){
        try {
            String sql="select tp.id_composicao,tp.descricao,tp.codigo_baixa,\n" +
"                    tp.quantidade,tp.vl_perca,tp.vl_custo,tc.custo_atual\n" +
"                    from tcomposicao_produto  tp\n" +
"                    left join tbarras tb on tp.codigo_baixa=tb.codigo_barras\n" +
"                    left join tprecos tc on tb.id_produto=tc.id \n" +
                    "where tp.barras_origem=?";
            PreparedStatement ps= conexao.getPreparedStatementResult(sql);
            ps.setString(1, TxtCodBarras.getText());
            ResultSet rs = ps.executeQuery();
            DefaultTableModel tb = (DefaultTableModel) tbComp.getModel();
            tb.setNumRows(0);
            while(rs.next()){
                tb.addRow(new Object[]{
                    rs.getString(3),
                    rs.getString(2),
                    clsaux.formato(rs.getDouble(4)),
                    clsaux.formato(rs.getDouble(5)),
                    clsaux.formato(rs.getDouble(6)),
                    clsaux.formato( rs.getDouble(4)*(rs.getDouble(7)*rs.getDouble(6)/100))
                });
            }
            rs.close();
            ps.close();
            
        } catch (SQLException ex) {
            Logger.getLogger(cadProdutos.class.getName()).log(Level.SEVERE, null, ex);
        }
    }
    public void inserirItemComposicao(){
        produtoDAO prodAO= new produtoDAO();
        if(tbComp.getRowCount()>0){
            for (int i=0; i<tbComp.getRowCount();i++){
                clsItemComposicao ite= new clsItemComposicao();
                ite.setDescricao(tbComp.getValueAt(i, 1).toString());
                ite.setCodigoMateriaPrima(tbComp.getValueAt(i, 0).toString());
                ite.setQuantidade(clsaux.capturaValores(tbComp.getValueAt(i, 2).toString()));
                ite.setPerca(clsaux.capturaValores(tbComp.getValueAt(i, 3).toString()));
                ite.setCusto(clsaux.capturaValores(tbComp.getValueAt(i, 4).toString()));
                ite.setCodigoItemAcabado(TxtCodBarras.getText());
                prodAO.inserirItemComposicao(ite);
            }
        }
    }
    public void removerItemComposicao(){
        produtoDAO proAO= new produtoDAO();
        clsItemComposicao ite= new clsItemComposicao();
        ite.setCodigoMateriaPrima(tbComp.getValueAt(tbComp.getSelectedRow(), 0).toString());
        ite.setQuantidade(clsaux.capturaValores(tbComp.getValueAt(tbComp.getSelectedRow(), 2).toString()));
        ite.setCodigoItemAcabado(TxtCodBarras.getText());
        proAO.removerItemComposicao(ite);
        buscaInf();
        this.calculaCustoProducao();
    
    
    }
    public void confirmaItemComposicaoTabela(){
        DefaultTableModel tb= (DefaultTableModel) tbComp.getModel();
        Double vl=0.00,perc=0.00;
        if(clsaux.verificaNulo(txtCodigo.getText())){
            JOptionPane.showMessageDialog(null, "Falta Indicar o Item!!!");
        }else{
            
        
        perc=clsaux.capturaValores(txtPercCusto.getText());
        vl=clsaux.capturaValores(txtQntComp.getText())*(clsaux.capturaValores(txtCustoVl.getText())*perc/100);
        tb.addRow(new Object[]{
            lbCodigoComp.getText(),
            lbNome.getText(),
            txtQntComp.getText(),
            txtPerPerca.getText(),
            txtPercCusto.getText(),
            clsaux.formato(vl)
        });
            lbNome.setText("");
            lbCodigoComp.setText("");
            txtQntComp.setText("1");
            txtPerPerca.setText("0");
            txtPercCusto.setText("100");
            txtCodigo.setText("");
            txtCustoVl.setText("0,00");
            this.calculaCustoProducao();
        }
    }
    public void calculaCustoProducao(){
        Double custo=0.00;
            for(int i=0; i< tbComp.getRowCount();i++){
                custo=custo+ clsaux.capturaValores(tbComp.getValueAt(i, 5).toString());
            }
         txtCustoAtual.setText(clsaux.formato(custo));
    
    }    
    
   
   
    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("windows".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(cadProdutos.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(cadProdutos.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(cadProdutos.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(cadProdutos.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the dialog */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                cadProdutos dialog = new cadProdutos(new javax.swing.JFrame(), true);
                dialog.addWindowListener(new java.awt.event.WindowAdapter() {
                    @Override
                    public void windowClosing(java.awt.event.WindowEvent e) {
                        System.exit(0);
                    }
                });
                dialog.setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton BtnCancelarCadastroProdutos;
    private javax.swing.JButton BtnGerarCodigo;
    private javax.swing.JButton BtnGerarCodigo1;
    private javax.swing.JButton BtnGravarCadastroProdutos;
    private javax.swing.JComboBox<String> CbAliqIcms;
    private javax.swing.JComboBox<String> CbCEST;
    private javax.swing.JComboBox<String> CbCst;
    private javax.swing.JComboBox<String> CbGrupo;
    private javax.swing.JComboBox<String> CbPIsCofinsEntrada;
    private javax.swing.JComboBox<String> CbPisCofinsSaida;
    private javax.swing.JComboBox<String> CbSetor;
    private javax.swing.JComboBox<String> CbSubGrupo;
    private javax.swing.JComboBox<String> CbTipo;
    private javax.swing.JComboBox<String> CbUnidade;
    private javax.swing.JComboBox<String> CbUnidade1;
    private javax.swing.JCheckBox CkBoxInativo;
    private javax.swing.JTextField TxtCodBaixa;
    private javax.swing.JTextField TxtCodBarras;
    private javax.swing.JTextField TxtCodigoInternoProdutos;
    private javax.swing.JTextField TxtConversao;
    private javax.swing.JTextField TxtDescricao;
    private javax.swing.JTextField TxtEstoque;
    private javax.swing.JTextField TxtEstoqueMinimo;
    private javax.swing.JTextField TxtMargem;
    private javax.swing.JTextField TxtNcm;
    private javax.swing.JTextField TxtPrecoCompra;
    private javax.swing.JTextField TxtPrecoVenda;
    private javax.swing.JTextField TxtReferencia;
    private javax.swing.JTextField TxtResumida;
    private javax.swing.JButton btnConfirmaProdComp;
    private javax.swing.JButton btnIncluiAtacarejo;
    private javax.swing.JButton btnIncluirGrupo;
    private javax.swing.JButton btnIncluirSub;
    private javax.swing.JButton btnPesq;
    private javax.swing.JButton btnincluirSetor;
    private javax.swing.JComboBox<String> cbBalanca;
    private javax.swing.JComboBox<String> cbImpProd;
    private javax.swing.JComboBox<String> cbPesavel;
    private javax.swing.JCheckBox ckCardapio;
    private javax.swing.JCheckBox ckFichaConsumo;
    private javax.swing.JCheckBox ckImprimeEtiqueta;
    private javax.swing.JCheckBox ckLocacao;
    private javax.swing.JCheckBox ckPesaAut;
    private javax.swing.JCheckBox ckPrecoVariado;
    private javax.swing.JCheckBox ckProducaoVenda;
    private javax.swing.JFileChooser flImagem;
    private javax.swing.JFormattedTextField ftComecoOferta;
    private javax.swing.JFormattedTextField ftFimOferta;
    private javax.swing.JFormattedTextField ftValidade;
    private javax.swing.JButton jButton1;
    private javax.swing.JButton jButton2;
    private javax.swing.JButton jButton3;
    private javax.swing.JComboBox<String> jComboBox1;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel10;
    private javax.swing.JLabel jLabel11;
    private javax.swing.JLabel jLabel12;
    private javax.swing.JLabel jLabel13;
    private javax.swing.JLabel jLabel14;
    private javax.swing.JLabel jLabel15;
    private javax.swing.JLabel jLabel16;
    private javax.swing.JLabel jLabel17;
    private javax.swing.JLabel jLabel18;
    private javax.swing.JLabel jLabel19;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel20;
    private javax.swing.JLabel jLabel21;
    private javax.swing.JLabel jLabel22;
    private javax.swing.JLabel jLabel23;
    private javax.swing.JLabel jLabel24;
    private javax.swing.JLabel jLabel25;
    private javax.swing.JLabel jLabel26;
    private javax.swing.JLabel jLabel27;
    private javax.swing.JLabel jLabel28;
    private javax.swing.JLabel jLabel29;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel30;
    private javax.swing.JLabel jLabel31;
    private javax.swing.JLabel jLabel32;
    private javax.swing.JLabel jLabel33;
    private javax.swing.JLabel jLabel34;
    private javax.swing.JLabel jLabel35;
    private javax.swing.JLabel jLabel36;
    private javax.swing.JLabel jLabel37;
    private javax.swing.JLabel jLabel38;
    private javax.swing.JLabel jLabel39;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel40;
    private javax.swing.JLabel jLabel41;
    private javax.swing.JLabel jLabel42;
    private javax.swing.JLabel jLabel43;
    private javax.swing.JLabel jLabel44;
    private javax.swing.JLabel jLabel45;
    private javax.swing.JLabel jLabel46;
    private javax.swing.JLabel jLabel47;
    private javax.swing.JLabel jLabel48;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel10;
    private javax.swing.JPanel jPanel11;
    private javax.swing.JPanel jPanel12;
    private javax.swing.JPanel jPanel13;
    private javax.swing.JPanel jPanel14;
    private javax.swing.JPanel jPanel15;
    private javax.swing.JPanel jPanel16;
    private javax.swing.JPanel jPanel17;
    private javax.swing.JPanel jPanel18;
    private javax.swing.JPanel jPanel19;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JPanel jPanel3;
    private javax.swing.JPanel jPanel4;
    private javax.swing.JPanel jPanel5;
    private javax.swing.JPanel jPanel6;
    private javax.swing.JPanel jPanel7;
    private javax.swing.JPanel jPanel8;
    private javax.swing.JPanel jPanel9;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JScrollPane jScrollPane3;
    private javax.swing.JSeparator jSeparator1;
    private javax.swing.JSeparator jSeparator2;
    private javax.swing.JTabbedPane jTabbedPane1;
    private javax.swing.JLabel lbBtnPesquisa;
    private javax.swing.JLabel lbCodigoComp;
    private javax.swing.JLabel lbImagem;
    private javax.swing.JLabel lbNome;
    private javax.swing.JTable tbComp;
    private javax.swing.JTable tbPrecAtacarejo;
    public static javax.swing.JTextField txtCodigo;
    private javax.swing.JTextField txtCustoAtual;
    private javax.swing.JTextField txtCustoMedio;
    private javax.swing.JTextField txtCustoVl;
    private javax.swing.JTextField txtDescNcm;
    private javax.swing.JTextArea txtDescritivo;
    private javax.swing.JTextField txtPerPerca;
    private javax.swing.JTextField txtPercCusto;
    private javax.swing.JTextField txtPrecoAtacarejo;
    private javax.swing.JTextField txtPrecoOferta;
    private javax.swing.JTextField txtPtsRetira;
    private javax.swing.JTextField txtPtsVale;
    private javax.swing.JTextField txtQntComp;
    private javax.swing.JTextField txtQntatacarejo;
    private javax.swing.JTextField txtSugestao;
    // End of variables declaration//GEN-END:variables

    
}
