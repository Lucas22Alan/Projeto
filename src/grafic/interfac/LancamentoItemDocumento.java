/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package grafic.interfac;

import Controller.BaseLancamentoDocumento;
import DAO.ImpostosDAO;
import DAO.TauditDAO;
import grafic.interfac.pesquisa.localizaProduto;
import DAO.custosDAO;
import DAO.lancDocumentDAO;
import DAO.listaInfAdcDAO;
import DAO.produtoDAO;
import model.clsLancDocument;
import classes.clsaux;
import com.sun.glass.events.KeyEvent;
import conexoes.conexao;
import java.awt.event.ActionEvent;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.swing.AbstractAction;
import javax.swing.DefaultComboBoxModel;
import javax.swing.InputMap;
import javax.swing.JOptionPane;
import javax.swing.JPanel;
import javax.swing.KeyStroke;
import model.clsConfig;
import model.clsPisCofins;
import model.produtos;
import util.validaDigitosBarras;

/**
 *
 * @author Rodrigo
 */
public class LancamentoItemDocumento extends javax.swing.JDialog {

    /**
     * Creates new form LancamentoItemDocumento
     */
    public LancamentoItemDocumento(java.awt.Frame parent, boolean modal) {
        super(parent, modal);
        initComponents();
        this.inicializa();
    }
     String iditem=null;
     String precAntigo,cstAntigo,ncmAntigo="";
     String refAntigo="";
     public static String estadoform="O";
     public static int linha=-1;
     public static clsLancDocument item= new clsLancDocument();
     public void inicializa(){
        DefaultComboBoxModel dfunidc= new DefaultComboBoxModel(listaInfAdcDAO.pegaUnid().toArray());
        cbUnidcompra.setModel(dfunidc);
        cbUnidvenda.setModel(dfunidc);
        InputMap imp= this.getRootPane().getInputMap(JPanel.WHEN_IN_FOCUSED_WINDOW);
        imp.put(KeyStroke.getKeyStroke(KeyEvent.VK_F10,0),"busca_item");
        imp.put(KeyStroke.getKeyStroke(KeyEvent.VK_F6,0),"salvar");
        this.getRootPane().setInputMap(JPanel.WHEN_IN_FOCUSED_WINDOW, imp);
        this.getRootPane().getActionMap().put("busca_item", new AbstractAction(){
            public void actionPerformed(ActionEvent ev){
                localizaProduto dialog = new localizaProduto(new javax.swing.JFrame(), true); 
                localizaProduto.idchamado="1";
                dialog.setVisible(true);
            }
        });
        this.getRootPane().getActionMap().put("salvar", new AbstractAction(){
            public void actionPerformed(ActionEvent ev){
                validaCampos();
            }
        });
        if( LancamentoDocumentos.tipomovto.equals("3")){
            txtNcm.setEnabled(true);
            txtCst.setEnabled(true);
            txtPrecVenda.setEnabled(true);
            txtMargem.setEnabled(true);
        }
        
    }
    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jPanel1 = new javax.swing.JPanel();
        jPanel2 = new javax.swing.JPanel();
        jPanel3 = new javax.swing.JPanel();
        jLabel1 = new javax.swing.JLabel();
        txtFabricante = new javax.swing.JTextField();
        jLabel2 = new javax.swing.JLabel();
        txtCodBarras = new javax.swing.JTextField();
        jLabel3 = new javax.swing.JLabel();
        txtNomeproduto = new javax.swing.JTextField();
        txtReferencia = new javax.swing.JTextField();
        jLabel4 = new javax.swing.JLabel();
        jLabel7 = new javax.swing.JLabel();
        cbUnidvenda = new javax.swing.JComboBox<>();
        jLabel15 = new javax.swing.JLabel();
        txtIditem = new javax.swing.JTextField();
        jLabel5 = new javax.swing.JLabel();
        cbUnidcompra = new javax.swing.JComboBox<>();
        btnPesq = new javax.swing.JButton();
        btnAjustaNomeCadastro = new javax.swing.JButton();
        jPanel6 = new javax.swing.JPanel();
        btnGravar = new javax.swing.JButton();
        jButton2 = new javax.swing.JButton();
        jTabbedPane1 = new javax.swing.JTabbedPane();
        jPanel7 = new javax.swing.JPanel();
        jPanel4 = new javax.swing.JPanel();
        jLabel8 = new javax.swing.JLabel();
        txtQnt = new javax.swing.JTextField();
        jLabel9 = new javax.swing.JLabel();
        txtAcresc = new javax.swing.JTextField();
        jLabel10 = new javax.swing.JLabel();
        txtDesconto = new javax.swing.JTextField();
        jLabel11 = new javax.swing.JLabel();
        txtValorunitario = new javax.swing.JTextField();
        jLabel12 = new javax.swing.JLabel();
        txtValortotal = new javax.swing.JTextField();
        jLabel6 = new javax.swing.JLabel();
        txtFator = new javax.swing.JTextField();
        jLabel16 = new javax.swing.JLabel();
        txtvlfrete = new javax.swing.JTextField();
        jLabel17 = new javax.swing.JLabel();
        txtvlseguro = new javax.swing.JTextField();
        jLabel18 = new javax.swing.JLabel();
        txtvloutras = new javax.swing.JTextField();
        jLabel19 = new javax.swing.JLabel();
        txtncmcompra = new javax.swing.JTextField();
        txtcest = new javax.swing.JTextField();
        jLabel20 = new javax.swing.JLabel();
        jLabel21 = new javax.swing.JLabel();
        txtcbenef = new javax.swing.JTextField();
        jLabel34 = new javax.swing.JLabel();
        txtcusto = new javax.swing.JTextField();
        jLabel51 = new javax.swing.JLabel();
        txtsubtotal = new javax.swing.JTextField();
        jPanel5 = new javax.swing.JPanel();
        jLabel13 = new javax.swing.JLabel();
        txtNcm = new javax.swing.JTextField();
        jLabel14 = new javax.swing.JLabel();
        txtCst = new javax.swing.JTextField();
        lbvenda1 = new javax.swing.JLabel();
        txtMargem = new javax.swing.JTextField();
        lbvenda = new javax.swing.JLabel();
        txtPrecVenda = new javax.swing.JTextField();
        ckEtiqueta = new javax.swing.JCheckBox();
        lbvenda2 = new javax.swing.JLabel();
        txtMargemAplic = new javax.swing.JTextField();
        lbvenda3 = new javax.swing.JLabel();
        txtSujestao = new javax.swing.JTextField();
        jPanel8 = new javax.swing.JPanel();
        jPanel9 = new javax.swing.JPanel();
        jLabel22 = new javax.swing.JLabel();
        txtcst = new javax.swing.JTextField();
        jLabel25 = new javax.swing.JLabel();
        jLabel27 = new javax.swing.JLabel();
        txtredicms = new javax.swing.JTextField();
        jLabel31 = new javax.swing.JLabel();
        txtdesccst = new javax.swing.JTextField();
        txtbaseicms = new javax.swing.JTextField();
        jLabel32 = new javax.swing.JLabel();
        jLabel33 = new javax.swing.JLabel();
        txtvlicms = new javax.swing.JTextField();
        cbmodbc = new javax.swing.JComboBox<>();
        txtaliqicms = new javax.swing.JTextField();
        jLabel35 = new javax.swing.JLabel();
        txtdesoneracaoicms = new javax.swing.JTextField();
        jSeparator1 = new javax.swing.JSeparator();
        jLabel36 = new javax.swing.JLabel();
        txtbasest = new javax.swing.JTextField();
        jLabel37 = new javax.swing.JLabel();
        txtvlst = new javax.swing.JTextField();
        jLabel38 = new javax.swing.JLabel();
        txtcstpis = new javax.swing.JTextField();
        txtdescpis = new javax.swing.JTextField();
        jLabel39 = new javax.swing.JLabel();
        txtbasepis = new javax.swing.JTextField();
        jLabel40 = new javax.swing.JLabel();
        txtaliqpis = new javax.swing.JTextField();
        jLabel41 = new javax.swing.JLabel();
        txtaliqcofins = new javax.swing.JTextField();
        jLabel42 = new javax.swing.JLabel();
        txtvlpis = new javax.swing.JTextField();
        jLabel43 = new javax.swing.JLabel();
        txtvlcofins = new javax.swing.JTextField();
        jLabel44 = new javax.swing.JLabel();
        txtcstipi = new javax.swing.JTextField();
        txtdescipi = new javax.swing.JTextField();
        jLabel45 = new javax.swing.JLabel();
        txtbaseipi = new javax.swing.JTextField();
        jLabel46 = new javax.swing.JLabel();
        jLabel47 = new javax.swing.JLabel();
        txtaliqipi = new javax.swing.JTextField();
        jLabel48 = new javax.swing.JLabel();
        jLabel49 = new javax.swing.JLabel();
        jLabel50 = new javax.swing.JLabel();
        txtvlipi = new javax.swing.JTextField();
        jLabel52 = new javax.swing.JLabel();
        txtVlFcp = new javax.swing.JTextField();

        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 880, Short.MAX_VALUE)
        );
        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 535, Short.MAX_VALUE)
        );

        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
        setTitle("Editando Lan√ßamento");
        setBackground(new java.awt.Color(255, 255, 255));
        addComponentListener(new java.awt.event.ComponentAdapter() {
            public void componentShown(java.awt.event.ComponentEvent evt) {
                formComponentShown(evt);
            }
        });
        addWindowListener(new java.awt.event.WindowAdapter() {
            public void windowClosed(java.awt.event.WindowEvent evt) {
                formWindowClosed(evt);
            }
        });

        jPanel2.setBackground(new java.awt.Color(219, 227, 227));

        jPanel3.setBackground(new java.awt.Color(255, 255, 255));
        jPanel3.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED, null, new java.awt.Color(0, 102, 102), new java.awt.Color(0, 102, 102), null));

        jLabel1.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel1.setText("Fab. :");

        txtFabricante.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        txtFabricante.setEnabled(false);

        jLabel2.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel2.setText("Barras :");

        txtCodBarras.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        txtCodBarras.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtCodBarrasActionPerformed(evt);
            }
        });

        jLabel3.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel3.setText("Nome :");

        txtNomeproduto.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N

        txtReferencia.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N

        jLabel4.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel4.setText("Ref. :");

        jLabel7.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel7.setText("Venda :");

        cbUnidvenda.setEditable(true);
        cbUnidvenda.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N

        jLabel15.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel15.setText("Id Item:");

        txtIditem.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        txtIditem.setEnabled(false);

        jLabel5.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel5.setText("Compra :");

        cbUnidcompra.setEditable(true);
        cbUnidcompra.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N

        btnPesq.setIcon(new javax.swing.ImageIcon(getClass().getResource("/imagens/procura.png"))); // NOI18N
        btnPesq.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnPesqActionPerformed(evt);
            }
        });

        btnAjustaNomeCadastro.setText("At. Nome");
        btnAjustaNomeCadastro.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnAjustaNomeCadastroActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel3Layout = new javax.swing.GroupLayout(jPanel3);
        jPanel3.setLayout(jPanel3Layout);
        jPanel3Layout.setHorizontalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel3Layout.createSequentialGroup()
                .addGap(21, 21, 21)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                    .addGroup(javax.swing.GroupLayout.Alignment.LEADING, jPanel3Layout.createSequentialGroup()
                        .addComponent(jLabel7)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(cbUnidvenda, javax.swing.GroupLayout.PREFERRED_SIZE, 83, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(jLabel15)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(txtIditem, javax.swing.GroupLayout.PREFERRED_SIZE, 56, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(javax.swing.GroupLayout.Alignment.LEADING, jPanel3Layout.createSequentialGroup()
                        .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel3, javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(jLabel1, javax.swing.GroupLayout.Alignment.TRAILING))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel3Layout.createSequentialGroup()
                                .addComponent(txtFabricante, javax.swing.GroupLayout.PREFERRED_SIZE, 101, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                .addComponent(jLabel2)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(txtCodBarras, javax.swing.GroupLayout.PREFERRED_SIZE, 162, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(btnPesq, javax.swing.GroupLayout.PREFERRED_SIZE, 33, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(18, 18, 18)
                                .addComponent(jLabel4, javax.swing.GroupLayout.PREFERRED_SIZE, 44, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                            .addGroup(jPanel3Layout.createSequentialGroup()
                                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                    .addGroup(jPanel3Layout.createSequentialGroup()
                                        .addGap(0, 0, Short.MAX_VALUE)
                                        .addComponent(jLabel5)
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                        .addComponent(cbUnidcompra, javax.swing.GroupLayout.PREFERRED_SIZE, 87, javax.swing.GroupLayout.PREFERRED_SIZE))
                                    .addComponent(txtNomeproduto))
                                .addGap(33, 33, 33)))
                        .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(btnAjustaNomeCadastro)
                            .addComponent(txtReferencia, javax.swing.GroupLayout.PREFERRED_SIZE, 126, javax.swing.GroupLayout.PREFERRED_SIZE))))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        jPanel3Layout.setVerticalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel3Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(jLabel1)
                        .addComponent(txtFabricante, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(jLabel2)
                        .addComponent(txtCodBarras, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(jLabel4)
                        .addComponent(txtReferencia, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addComponent(btnPesq, javax.swing.GroupLayout.PREFERRED_SIZE, 0, Short.MAX_VALUE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 17, Short.MAX_VALUE)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel3)
                    .addComponent(txtNomeproduto, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btnAjustaNomeCadastro))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 18, Short.MAX_VALUE)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel7)
                    .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(cbUnidcompra, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(jLabel5))
                    .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(jLabel15)
                        .addComponent(txtIditem, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addComponent(cbUnidvenda, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap())
        );

        jPanel6.setBackground(new java.awt.Color(255, 255, 255));
        jPanel6.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED, new java.awt.Color(0, 102, 102), new java.awt.Color(0, 102, 102), new java.awt.Color(0, 102, 102), new java.awt.Color(0, 102, 102)));

        btnGravar.setFont(new java.awt.Font("Segoe UI Semibold", 0, 14)); // NOI18N
        btnGravar.setIcon(new javax.swing.ImageIcon(getClass().getResource("/imagens/Confirma.png"))); // NOI18N
        btnGravar.setText("Gravar");
        btnGravar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnGravarActionPerformed(evt);
            }
        });

        jButton2.setFont(new java.awt.Font("Segoe UI Semibold", 0, 14)); // NOI18N
        jButton2.setIcon(new javax.swing.ImageIcon(getClass().getResource("/imagens/Cancela.png"))); // NOI18N
        jButton2.setText("Cancelar");
        jButton2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton2ActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel6Layout = new javax.swing.GroupLayout(jPanel6);
        jPanel6.setLayout(jPanel6Layout);
        jPanel6Layout.setHorizontalGroup(
            jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel6Layout.createSequentialGroup()
                .addContainerGap(395, Short.MAX_VALUE)
                .addComponent(jButton2, javax.swing.GroupLayout.PREFERRED_SIZE, 129, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(btnGravar, javax.swing.GroupLayout.PREFERRED_SIZE, 127, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
        );

        jPanel6Layout.linkSize(javax.swing.SwingConstants.HORIZONTAL, new java.awt.Component[] {btnGravar, jButton2});

        jPanel6Layout.setVerticalGroup(
            jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel6Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(btnGravar)
                    .addComponent(jButton2))
                .addContainerGap())
        );

        jPanel6Layout.linkSize(javax.swing.SwingConstants.VERTICAL, new java.awt.Component[] {btnGravar, jButton2});

        jPanel7.setBackground(new java.awt.Color(219, 227, 227));

        jPanel4.setBackground(new java.awt.Color(255, 255, 255));
        jPanel4.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED, null, new java.awt.Color(0, 102, 102), new java.awt.Color(0, 102, 102), null));

        jLabel8.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel8.setText("Qtde:");

        txtQnt.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        txtQnt.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        txtQnt.setAlignmentX(2.0F);
        txtQnt.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                txtQntFocusGained(evt);
            }
        });
        txtQnt.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtQntActionPerformed(evt);
            }
        });

        jLabel9.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel9.setText("Acresc :");

        txtAcresc.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        txtAcresc.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        txtAcresc.setText("0,00");
        txtAcresc.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                txtAcrescFocusGained(evt);
            }
            public void focusLost(java.awt.event.FocusEvent evt) {
                txtAcrescFocusLost(evt);
            }
        });
        txtAcresc.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtAcrescActionPerformed(evt);
            }
        });

        jLabel10.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel10.setText("Desc. :");

        txtDesconto.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        txtDesconto.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        txtDesconto.setText("0,00");
        txtDesconto.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                txtDescontoFocusGained(evt);
            }
            public void focusLost(java.awt.event.FocusEvent evt) {
                txtDescontoFocusLost(evt);
            }
        });
        txtDesconto.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtDescontoActionPerformed(evt);
            }
        });

        jLabel11.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel11.setText("Unitario:");

        txtValorunitario.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        txtValorunitario.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        txtValorunitario.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                txtValorunitarioFocusGained(evt);
            }
            public void focusLost(java.awt.event.FocusEvent evt) {
                txtValorunitarioFocusLost(evt);
            }
        });
        txtValorunitario.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtValorunitarioActionPerformed(evt);
            }
        });

        jLabel12.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel12.setText("Total :");

        txtValortotal.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        txtValortotal.setForeground(new java.awt.Color(102, 0, 0));
        txtValortotal.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        txtValortotal.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtValortotalActionPerformed(evt);
            }
        });

        jLabel6.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel6.setText("Fator :");

        txtFator.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        txtFator.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtFatorActionPerformed(evt);
            }
        });

        jLabel16.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel16.setText("Vl Frete:");

        txtvlfrete.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        txtvlfrete.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        txtvlfrete.setText("0,00");
        txtvlfrete.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                txtvlfreteFocusGained(evt);
            }
            public void focusLost(java.awt.event.FocusEvent evt) {
                txtvlfreteFocusLost(evt);
            }
        });
        txtvlfrete.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtvlfreteActionPerformed(evt);
            }
        });

        jLabel17.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel17.setText("Seguro:");

        txtvlseguro.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        txtvlseguro.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        txtvlseguro.setText("0,00");
        txtvlseguro.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                txtvlseguroFocusGained(evt);
            }
            public void focusLost(java.awt.event.FocusEvent evt) {
                txtvlseguroFocusLost(evt);
            }
        });
        txtvlseguro.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtvlseguroActionPerformed(evt);
            }
        });

        jLabel18.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel18.setText("Outras:");

        txtvloutras.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        txtvloutras.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        txtvloutras.setText("0,00");
        txtvloutras.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                txtvloutrasFocusGained(evt);
            }
            public void focusLost(java.awt.event.FocusEvent evt) {
                txtvloutrasFocusLost(evt);
            }
        });
        txtvloutras.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtvloutrasActionPerformed(evt);
            }
        });

        jLabel19.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel19.setText("NCM:");

        txtncmcompra.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        txtncmcompra.setHorizontalAlignment(javax.swing.JTextField.RIGHT);

        txtcest.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        txtcest.setHorizontalAlignment(javax.swing.JTextField.RIGHT);

        jLabel20.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel20.setText("CEST:");

        jLabel21.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel21.setText("CBenef :");

        txtcbenef.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        txtcbenef.setHorizontalAlignment(javax.swing.JTextField.RIGHT);

        jLabel34.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel34.setText("Custo:");

        txtcusto.setEditable(false);
        txtcusto.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        txtcusto.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        txtcusto.setText("0,00");
        txtcusto.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                txtcustoFocusLost(evt);
            }
        });
        txtcusto.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtcustoActionPerformed(evt);
            }
        });

        jLabel51.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel51.setText("Sub.Total:");

        txtsubtotal.setEditable(false);
        txtsubtotal.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        txtsubtotal.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        txtsubtotal.setText("0,00");
        txtsubtotal.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                txtsubtotalFocusLost(evt);
            }
        });
        txtsubtotal.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtsubtotalActionPerformed(evt);
            }
        });

        jPanel5.setBackground(new java.awt.Color(255, 255, 255));
        jPanel5.setBorder(javax.swing.BorderFactory.createTitledBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED, null, new java.awt.Color(0, 102, 102), new java.awt.Color(0, 102, 102), null), "Dados Venda"));

        jLabel13.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel13.setText("Ncm :");

        txtNcm.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        txtNcm.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        txtNcm.setEnabled(false);

        jLabel14.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel14.setText("CST :");

        txtCst.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        txtCst.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        txtCst.setEnabled(false);

        lbvenda1.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        lbvenda1.setText("M. Cad");

        txtMargem.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        txtMargem.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        txtMargem.setEnabled(false);
        txtMargem.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtMargemActionPerformed(evt);
            }
        });

        lbvenda.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        lbvenda.setText("Venda :");

        txtPrecVenda.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        txtPrecVenda.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        txtPrecVenda.setEnabled(false);
        txtPrecVenda.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtPrecVendaActionPerformed(evt);
            }
        });

        ckEtiqueta.setBackground(new java.awt.Color(255, 255, 255));
        ckEtiqueta.setText("Imprimir Etiqueta");

        lbvenda2.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        lbvenda2.setText("M. Aplic.");

        txtMargemAplic.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        txtMargemAplic.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        txtMargemAplic.setEnabled(false);
        txtMargemAplic.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtMargemAplicActionPerformed(evt);
            }
        });

        lbvenda3.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        lbvenda3.setText("Sujest√£o:");

        txtSujestao.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        txtSujestao.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        txtSujestao.setEnabled(false);

        javax.swing.GroupLayout jPanel5Layout = new javax.swing.GroupLayout(jPanel5);
        jPanel5.setLayout(jPanel5Layout);
        jPanel5Layout.setHorizontalGroup(
            jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel5Layout.createSequentialGroup()
                .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel5Layout.createSequentialGroup()
                        .addContainerGap()
                        .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel5Layout.createSequentialGroup()
                                .addGap(11, 11, 11)
                                .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(jLabel13, javax.swing.GroupLayout.Alignment.TRAILING)
                                    .addComponent(jLabel14, javax.swing.GroupLayout.Alignment.TRAILING)))
                            .addComponent(lbvenda1)
                            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel5Layout.createSequentialGroup()
                                .addGap(0, 4, Short.MAX_VALUE)
                                .addComponent(lbvenda2))
                            .addComponent(lbvenda))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(txtNcm, javax.swing.GroupLayout.PREFERRED_SIZE, 77, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(txtCst, javax.swing.GroupLayout.PREFERRED_SIZE, 77, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(txtMargem, javax.swing.GroupLayout.PREFERRED_SIZE, 75, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(txtMargemAplic, javax.swing.GroupLayout.PREFERRED_SIZE, 75, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(txtPrecVenda, javax.swing.GroupLayout.PREFERRED_SIZE, 75, javax.swing.GroupLayout.PREFERRED_SIZE)))
                    .addGroup(jPanel5Layout.createSequentialGroup()
                        .addGap(34, 34, 34)
                        .addComponent(ckEtiqueta))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel5Layout.createSequentialGroup()
                        .addGap(0, 0, Short.MAX_VALUE)
                        .addComponent(lbvenda3)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(txtSujestao, javax.swing.GroupLayout.PREFERRED_SIZE, 75, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addContainerGap())
        );

        jPanel5Layout.linkSize(javax.swing.SwingConstants.HORIZONTAL, new java.awt.Component[] {txtCst, txtMargem, txtMargemAplic, txtNcm, txtPrecVenda});

        jPanel5Layout.setVerticalGroup(
            jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel5Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel13)
                    .addComponent(txtNcm, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel14)
                    .addComponent(txtCst, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(txtMargem, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(lbvenda1))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(txtMargemAplic, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(lbvenda2))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 35, Short.MAX_VALUE)
                .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(lbvenda3)
                    .addComponent(txtSujestao, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(lbvenda)
                    .addComponent(txtPrecVenda, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(34, 34, 34)
                .addComponent(ckEtiqueta)
                .addContainerGap())
        );

        javax.swing.GroupLayout jPanel4Layout = new javax.swing.GroupLayout(jPanel4);
        jPanel4.setLayout(jPanel4Layout);
        jPanel4Layout.setHorizontalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel4Layout.createSequentialGroup()
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(jPanel4Layout.createSequentialGroup()
                        .addGap(0, 0, Short.MAX_VALUE)
                        .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addGroup(jPanel4Layout.createSequentialGroup()
                                .addComponent(jLabel17)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(txtvlseguro, javax.swing.GroupLayout.PREFERRED_SIZE, 60, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(jPanel4Layout.createSequentialGroup()
                                .addComponent(jLabel18)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(txtvloutras, javax.swing.GroupLayout.PREFERRED_SIZE, 60, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(jPanel4Layout.createSequentialGroup()
                                .addComponent(jLabel16)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(txtvlfrete, javax.swing.GroupLayout.PREFERRED_SIZE, 60, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(jPanel4Layout.createSequentialGroup()
                                .addComponent(jLabel10)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(txtDesconto, javax.swing.GroupLayout.PREFERRED_SIZE, 60, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(jPanel4Layout.createSequentialGroup()
                                .addComponent(jLabel9)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(txtAcresc, javax.swing.GroupLayout.PREFERRED_SIZE, 60, javax.swing.GroupLayout.PREFERRED_SIZE))))
                    .addGroup(jPanel4Layout.createSequentialGroup()
                        .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addGroup(jPanel4Layout.createSequentialGroup()
                                .addComponent(jLabel11)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(txtValorunitario, javax.swing.GroupLayout.PREFERRED_SIZE, 60, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(jPanel4Layout.createSequentialGroup()
                                .addComponent(jLabel6)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(txtFator, javax.swing.GroupLayout.PREFERRED_SIZE, 60, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(jPanel4Layout.createSequentialGroup()
                                .addComponent(jLabel12)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(txtValortotal, javax.swing.GroupLayout.PREFERRED_SIZE, 60, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(jPanel4Layout.createSequentialGroup()
                                .addComponent(jLabel8)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(txtQnt, javax.swing.GroupLayout.PREFERRED_SIZE, 85, javax.swing.GroupLayout.PREFERRED_SIZE)))))
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel4Layout.createSequentialGroup()
                        .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel4Layout.createSequentialGroup()
                                .addGap(69, 69, 69)
                                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(jLabel20, javax.swing.GroupLayout.Alignment.TRAILING)
                                    .addComponent(jLabel19, javax.swing.GroupLayout.Alignment.TRAILING)))
                            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel4Layout.createSequentialGroup()
                                .addGap(57, 57, 57)
                                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(jLabel21, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, 47, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(jLabel34, javax.swing.GroupLayout.Alignment.TRAILING))))
                        .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel4Layout.createSequentialGroup()
                                .addGap(3, 3, 3)
                                .addComponent(txtncmcompra, javax.swing.GroupLayout.PREFERRED_SIZE, 90, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(jPanel4Layout.createSequentialGroup()
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(txtcbenef, javax.swing.GroupLayout.PREFERRED_SIZE, 90, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(txtcest, javax.swing.GroupLayout.PREFERRED_SIZE, 90, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(txtcusto, javax.swing.GroupLayout.PREFERRED_SIZE, 90, javax.swing.GroupLayout.PREFERRED_SIZE)))))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel4Layout.createSequentialGroup()
                        .addGap(3, 3, 3)
                        .addComponent(jLabel51)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(txtsubtotal, javax.swing.GroupLayout.PREFERRED_SIZE, 90, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addGap(150, 150, 150)
                .addComponent(jPanel5, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(53, 53, 53))
        );

        jPanel4Layout.linkSize(javax.swing.SwingConstants.HORIZONTAL, new java.awt.Component[] {txtAcresc, txtDesconto, txtFator, txtQnt, txtValortotal, txtValorunitario, txtcusto, txtvlfrete, txtvloutras, txtvlseguro});

        jPanel4Layout.setVerticalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel4Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel4Layout.createSequentialGroup()
                        .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel8)
                            .addComponent(txtQnt, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel19)
                            .addComponent(txtncmcompra, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel11)
                            .addComponent(txtValorunitario, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(txtcest, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel20))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel4Layout.createSequentialGroup()
                                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                    .addComponent(txtcbenef, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(jLabel21))
                                .addGap(4, 4, 4)
                                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                    .addComponent(jLabel34)
                                    .addComponent(txtcusto, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                    .addComponent(jLabel51)
                                    .addComponent(txtsubtotal, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
                            .addGroup(jPanel4Layout.createSequentialGroup()
                                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                    .addComponent(txtFator, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(jLabel6))
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                    .addComponent(txtValortotal, javax.swing.GroupLayout.PREFERRED_SIZE, 23, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(jLabel12))
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                    .addComponent(txtvloutras, javax.swing.GroupLayout.PREFERRED_SIZE, 23, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(jLabel18))
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                    .addComponent(txtvlseguro, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(jLabel17))
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                    .addComponent(txtvlfrete, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(jLabel16))))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel10)
                            .addComponent(txtDesconto, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(txtAcresc, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel9)))
                    .addComponent(jPanel5, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        javax.swing.GroupLayout jPanel7Layout = new javax.swing.GroupLayout(jPanel7);
        jPanel7.setLayout(jPanel7Layout);
        jPanel7Layout.setHorizontalGroup(
            jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel4, javax.swing.GroupLayout.PREFERRED_SIZE, 672, Short.MAX_VALUE)
        );
        jPanel7Layout.setVerticalGroup(
            jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel4, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
        );

        jTabbedPane1.addTab("Informa√ß√µes", jPanel7);

        jPanel8.setBackground(new java.awt.Color(219, 227, 227));

        jPanel9.setBackground(new java.awt.Color(255, 255, 255));
        jPanel9.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED, null, new java.awt.Color(0, 102, 102), new java.awt.Color(0, 102, 102), null));

        jLabel22.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel22.setText("CST:");

        txtcst.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        txtcst.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        txtcst.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                txtcstFocusGained(evt);
            }
        });
        txtcst.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtcstActionPerformed(evt);
            }
        });

        jLabel25.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel25.setText("Mod BC:");

        jLabel27.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel27.setText("Red. BC:");

        txtredicms.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N

        jLabel31.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel31.setText("Aliq:");

        txtdesccst.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        txtdesccst.setHorizontalAlignment(javax.swing.JTextField.RIGHT);

        txtbaseicms.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        txtbaseicms.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        txtbaseicms.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                txtbaseicmsFocusGained(evt);
            }
        });
        txtbaseicms.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtbaseicmsActionPerformed(evt);
            }
        });

        jLabel32.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel32.setText("BC Icms:");

        jLabel33.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel33.setText("VL Icms:");

        txtvlicms.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        txtvlicms.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        txtvlicms.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                txtvlicmsFocusGained(evt);
            }
        });
        txtvlicms.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtvlicmsActionPerformed(evt);
            }
        });

        cbmodbc.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        cbmodbc.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "0- Margem Valor Agregado", "1- Pauta", "2- Pre√ßo Tabelado Max", "3- Valor Da Opera√ß√£o" }));
        cbmodbc.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cbmodbcActionPerformed(evt);
            }
        });

        txtaliqicms.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        txtaliqicms.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        txtaliqicms.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                txtaliqicmsFocusGained(evt);
            }
        });
        txtaliqicms.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtaliqicmsActionPerformed(evt);
            }
        });

        jLabel35.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel35.setText("Des:");

        txtdesoneracaoicms.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        txtdesoneracaoicms.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        txtdesoneracaoicms.setText("0,00");

        jLabel36.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel36.setText("BC ST:");

        txtbasest.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        txtbasest.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        txtbasest.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                txtbasestFocusGained(evt);
            }
        });
        txtbasest.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtbasestActionPerformed(evt);
            }
        });

        jLabel37.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel37.setText("Vl ST:");

        txtvlst.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        txtvlst.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        txtvlst.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                txtvlstFocusGained(evt);
            }
        });
        txtvlst.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtvlstActionPerformed(evt);
            }
        });

        jLabel38.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel38.setText("Pis/Cofins:");

        txtcstpis.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        txtcstpis.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        txtcstpis.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                txtcstpisFocusGained(evt);
            }
        });
        txtcstpis.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtcstpisActionPerformed(evt);
            }
        });

        txtdescpis.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        txtdescpis.setHorizontalAlignment(javax.swing.JTextField.RIGHT);

        jLabel39.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel39.setText("Base:");

        txtbasepis.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        txtbasepis.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        txtbasepis.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                txtbasepisFocusGained(evt);
            }
        });
        txtbasepis.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtbasepisActionPerformed(evt);
            }
        });

        jLabel40.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel40.setText("Aliq. Pis:");

        txtaliqpis.setEditable(false);
        txtaliqpis.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        txtaliqpis.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        txtaliqpis.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                txtaliqpisFocusGained(evt);
            }
        });
        txtaliqpis.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtaliqpisActionPerformed(evt);
            }
        });

        jLabel41.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel41.setText("Aliq. Cofins:");

        txtaliqcofins.setEditable(false);
        txtaliqcofins.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        txtaliqcofins.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        txtaliqcofins.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtaliqcofinsActionPerformed(evt);
            }
        });

        jLabel42.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel42.setText("Vl Pis:");

        txtvlpis.setEditable(false);
        txtvlpis.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        txtvlpis.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        txtvlpis.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtvlpisActionPerformed(evt);
            }
        });

        jLabel43.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel43.setText("Vl Cofins:");

        txtvlcofins.setEditable(false);
        txtvlcofins.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        txtvlcofins.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        txtvlcofins.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtvlcofinsActionPerformed(evt);
            }
        });

        jLabel44.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel44.setText("IPI Cst:");

        txtcstipi.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        txtcstipi.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        txtcstipi.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtcstipiActionPerformed(evt);
            }
        });

        txtdescipi.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        txtdescipi.setHorizontalAlignment(javax.swing.JTextField.RIGHT);

        jLabel45.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel45.setText("Base:");

        txtbaseipi.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        txtbaseipi.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        txtbaseipi.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                txtbaseipiFocusGained(evt);
            }
        });
        txtbaseipi.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtbaseipiActionPerformed(evt);
            }
        });

        jLabel46.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel46.setText("Aliq. IPI:");

        jLabel47.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel47.setText("Vl IPI");

        txtaliqipi.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        txtaliqipi.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        txtaliqipi.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                txtaliqipiFocusGained(evt);
            }
        });
        txtaliqipi.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtaliqipiActionPerformed(evt);
            }
        });

        jLabel48.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel48.setText("Substitui√ß√£o Tributaria");

        jLabel49.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel49.setText("IPI");

        jLabel50.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel50.setText("Valor:");

        txtvlipi.setEditable(false);
        txtvlipi.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        txtvlipi.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        txtvlipi.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtvlipiActionPerformed(evt);
            }
        });

        jLabel52.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel52.setText("Fcp St:");

        txtVlFcp.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        txtVlFcp.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        txtVlFcp.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                txtVlFcpFocusGained(evt);
            }
        });
        txtVlFcp.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtVlFcpActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel9Layout = new javax.swing.GroupLayout(jPanel9);
        jPanel9.setLayout(jPanel9Layout);
        jPanel9Layout.setHorizontalGroup(
            jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel9Layout.createSequentialGroup()
                .addContainerGap(379, Short.MAX_VALUE)
                .addComponent(jLabel47, javax.swing.GroupLayout.PREFERRED_SIZE, 42, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(247, 247, 247))
            .addComponent(jSeparator1, javax.swing.GroupLayout.Alignment.TRAILING)
            .addGroup(jPanel9Layout.createSequentialGroup()
                .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel9Layout.createSequentialGroup()
                        .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel9Layout.createSequentialGroup()
                                .addGap(18, 18, 18)
                                .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(jLabel33, javax.swing.GroupLayout.Alignment.TRAILING)
                                    .addComponent(jLabel22, javax.swing.GroupLayout.Alignment.TRAILING))
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel9Layout.createSequentialGroup()
                                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                    .addComponent(jLabel27)
                                    .addComponent(jLabel32)
                                    .addComponent(jLabel25))
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)))
                        .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                            .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                .addGroup(jPanel9Layout.createSequentialGroup()
                                    .addComponent(txtcst, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                    .addComponent(txtdesccst, javax.swing.GroupLayout.PREFERRED_SIZE, 152, javax.swing.GroupLayout.PREFERRED_SIZE))
                                .addComponent(txtredicms, javax.swing.GroupLayout.PREFERRED_SIZE, 60, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(jPanel9Layout.createSequentialGroup()
                                .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                                    .addGroup(jPanel9Layout.createSequentialGroup()
                                        .addComponent(txtbaseicms, javax.swing.GroupLayout.PREFERRED_SIZE, 90, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addGap(10, 10, 10)
                                        .addComponent(jLabel31))
                                    .addGroup(jPanel9Layout.createSequentialGroup()
                                        .addComponent(txtvlicms, javax.swing.GroupLayout.PREFERRED_SIZE, 90, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                        .addComponent(jLabel35)))
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                    .addComponent(txtdesoneracaoicms, javax.swing.GroupLayout.DEFAULT_SIZE, 71, Short.MAX_VALUE)
                                    .addComponent(txtaliqicms)))
                            .addComponent(cbmodbc, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                        .addGap(88, 88, 88))
                    .addGroup(jPanel9Layout.createSequentialGroup()
                        .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel9Layout.createSequentialGroup()
                                .addGap(20, 20, 20)
                                .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addGroup(jPanel9Layout.createSequentialGroup()
                                        .addGap(26, 26, 26)
                                        .addComponent(jLabel48))
                                    .addGroup(jPanel9Layout.createSequentialGroup()
                                        .addGap(31, 31, 31)
                                        .addComponent(txtbasest, javax.swing.GroupLayout.PREFERRED_SIZE, 90, javax.swing.GroupLayout.PREFERRED_SIZE))))
                            .addGroup(jPanel9Layout.createSequentialGroup()
                                .addContainerGap()
                                .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                    .addGroup(jPanel9Layout.createSequentialGroup()
                                        .addComponent(jLabel52)
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                        .addComponent(txtVlFcp, javax.swing.GroupLayout.PREFERRED_SIZE, 90, javax.swing.GroupLayout.PREFERRED_SIZE))
                                    .addGroup(jPanel9Layout.createSequentialGroup()
                                        .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                            .addComponent(jLabel36, javax.swing.GroupLayout.Alignment.TRAILING)
                                            .addComponent(jLabel37, javax.swing.GroupLayout.Alignment.TRAILING))
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                        .addComponent(txtvlst, javax.swing.GroupLayout.PREFERRED_SIZE, 90, javax.swing.GroupLayout.PREFERRED_SIZE)))))
                        .addGap(0, 0, Short.MAX_VALUE)))
                .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel9Layout.createSequentialGroup()
                        .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(jLabel39)
                            .addComponent(jLabel38)
                            .addComponent(jLabel40, javax.swing.GroupLayout.PREFERRED_SIZE, 48, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel42))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel9Layout.createSequentialGroup()
                                .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                    .addComponent(txtvlpis, javax.swing.GroupLayout.DEFAULT_SIZE, 65, Short.MAX_VALUE)
                                    .addComponent(txtaliqpis, javax.swing.GroupLayout.DEFAULT_SIZE, 65, Short.MAX_VALUE)
                                    .addComponent(txtbasepis))
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(jLabel43, javax.swing.GroupLayout.Alignment.TRAILING)
                                    .addComponent(jLabel41, javax.swing.GroupLayout.Alignment.TRAILING))
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(txtvlcofins, javax.swing.GroupLayout.PREFERRED_SIZE, 65, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(txtaliqcofins, javax.swing.GroupLayout.PREFERRED_SIZE, 65, javax.swing.GroupLayout.PREFERRED_SIZE)))
                            .addGroup(jPanel9Layout.createSequentialGroup()
                                .addComponent(txtcstpis, javax.swing.GroupLayout.PREFERRED_SIZE, 44, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(18, 18, 18)
                                .addComponent(txtdescpis)))
                        .addGap(40, 40, 40))
                    .addGroup(jPanel9Layout.createSequentialGroup()
                        .addGap(11, 11, 11)
                        .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel45, javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(jLabel44, javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(jLabel50, javax.swing.GroupLayout.Alignment.TRAILING))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel9Layout.createSequentialGroup()
                                .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                    .addGroup(jPanel9Layout.createSequentialGroup()
                                        .addComponent(txtvlipi, javax.swing.GroupLayout.PREFERRED_SIZE, 65, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addGap(80, 80, 80))
                                    .addGroup(jPanel9Layout.createSequentialGroup()
                                        .addComponent(txtbaseipi, javax.swing.GroupLayout.PREFERRED_SIZE, 65, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                        .addComponent(jLabel46)
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)))
                                .addComponent(txtaliqipi, javax.swing.GroupLayout.PREFERRED_SIZE, 65, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(jPanel9Layout.createSequentialGroup()
                                .addComponent(txtcstipi, javax.swing.GroupLayout.PREFERRED_SIZE, 44, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(18, 18, 18)
                                .addComponent(txtdescipi, javax.swing.GroupLayout.PREFERRED_SIZE, 148, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addComponent(jLabel49, javax.swing.GroupLayout.PREFERRED_SIZE, 59, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))))
        );
        jPanel9Layout.setVerticalGroup(
            jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel9Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel22)
                    .addComponent(txtcst, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(txtdesccst, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(txtcstpis, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel38)
                    .addComponent(txtdescpis, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel25)
                    .addComponent(cbmodbc, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(txtbasepis, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel39))
                .addGap(11, 11, 11)
                .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel27)
                    .addComponent(txtredicms, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(txtaliqpis, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel40)
                    .addComponent(txtaliqcofins, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel41))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(txtbaseicms, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel32)
                    .addComponent(jLabel31)
                    .addComponent(txtaliqicms, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(txtvlpis, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel42)
                    .addComponent(txtvlcofins, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel43))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(txtvlicms, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel33)
                    .addComponent(jLabel35)
                    .addComponent(txtdesoneracaoicms, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addComponent(jSeparator1, javax.swing.GroupLayout.PREFERRED_SIZE, 10, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel48)
                    .addComponent(jLabel49))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel9Layout.createSequentialGroup()
                        .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(txtbasest, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel36))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(txtvlst, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel37, javax.swing.GroupLayout.PREFERRED_SIZE, 15, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(txtVlFcp, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel52, javax.swing.GroupLayout.PREFERRED_SIZE, 15, javax.swing.GroupLayout.PREFERRED_SIZE)))
                    .addGroup(jPanel9Layout.createSequentialGroup()
                        .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(txtcstipi, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel44)
                            .addComponent(txtdescipi, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(txtbaseipi, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel45)
                            .addComponent(txtaliqipi, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel46))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(txtvlipi, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel50))))
                .addGap(115, 115, 115)
                .addComponent(jLabel47)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        javax.swing.GroupLayout jPanel8Layout = new javax.swing.GroupLayout(jPanel8);
        jPanel8.setLayout(jPanel8Layout);
        jPanel8Layout.setHorizontalGroup(
            jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel9, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
        );
        jPanel8Layout.setVerticalGroup(
            jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel8Layout.createSequentialGroup()
                .addComponent(jPanel9, javax.swing.GroupLayout.PREFERRED_SIZE, 318, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 0, Short.MAX_VALUE))
        );

        jTabbedPane1.addTab("Impostos", jPanel8);

        javax.swing.GroupLayout jPanel2Layout = new javax.swing.GroupLayout(jPanel2);
        jPanel2.setLayout(jPanel2Layout);
        jPanel2Layout.setHorizontalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addComponent(jTabbedPane1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(0, 0, Short.MAX_VALUE))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel2Layout.createSequentialGroup()
                        .addGap(0, 0, Short.MAX_VALUE)
                        .addComponent(jPanel6, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addComponent(jPanel3, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addContainerGap())
        );
        jPanel2Layout.setVerticalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jPanel3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(16, 16, 16)
                .addComponent(jTabbedPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 343, Short.MAX_VALUE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(jPanel6, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
        );

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );

        pack();
        setLocationRelativeTo(null);
    }// </editor-fold>//GEN-END:initComponents

    private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton2ActionPerformed
        linha=-1;
        this.dispose();
    }//GEN-LAST:event_jButton2ActionPerformed

    private void txtCodBarrasActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtCodBarrasActionPerformed
        txtCodBarras.setText(validaDigitosBarras.preencheCodigo(txtCodBarras.getText()));
        this.pegaItem(txtCodBarras.getText());
    }//GEN-LAST:event_txtCodBarrasActionPerformed

    private void txtValorunitarioFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_txtValorunitarioFocusLost
        this.calculaTotal();
    }//GEN-LAST:event_txtValorunitarioFocusLost

    private void txtAcrescActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtAcrescActionPerformed
        this.calculaTotal();
        jTabbedPane1.setSelectedIndex(1);
        txtcst.requestFocus();
        
    }//GEN-LAST:event_txtAcrescActionPerformed

    private void txtDescontoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtDescontoActionPerformed
        this.calculaTotal();
        txtAcresc.requestFocus();
    }//GEN-LAST:event_txtDescontoActionPerformed

    private void btnGravarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnGravarActionPerformed
      this.validaCampos();
        
        
    }//GEN-LAST:event_btnGravarActionPerformed

    
    
    private void formComponentShown(java.awt.event.ComponentEvent evt) {//GEN-FIRST:event_formComponentShown
       if (estadoform.equals("A")){
           this.alteraItem();
       } else {
          // txtIditem.setText(String.valueOf(LancamentoDocumentos.numeitem));
           this.alteraItem();
    }
    }//GEN-LAST:event_formComponentShown

    private void formWindowClosed(java.awt.event.WindowEvent evt) {//GEN-FIRST:event_formWindowClosed
        linha=-1;
    }//GEN-LAST:event_formWindowClosed

    private void txtDescontoFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_txtDescontoFocusLost
       this.calculaTotal();
    }//GEN-LAST:event_txtDescontoFocusLost

    private void txtAcrescFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_txtAcrescFocusLost
       this.calculaTotal();
    }//GEN-LAST:event_txtAcrescFocusLost

    private void txtvlfreteFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_txtvlfreteFocusLost
       this.calculaTotal();
    }//GEN-LAST:event_txtvlfreteFocusLost

    private void txtvlfreteActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtvlfreteActionPerformed
       txtDesconto.requestFocus();
    }//GEN-LAST:event_txtvlfreteActionPerformed

    private void txtvlseguroFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_txtvlseguroFocusLost
       this.calculaTotal();
    }//GEN-LAST:event_txtvlseguroFocusLost

    private void txtvlseguroActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtvlseguroActionPerformed
      txtvlfrete.requestFocus();
    }//GEN-LAST:event_txtvlseguroActionPerformed

    private void txtvloutrasFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_txtvloutrasFocusLost
       this.calculaTotal();
    }//GEN-LAST:event_txtvloutrasFocusLost

    private void txtvloutrasActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtvloutrasActionPerformed
        txtvlseguro.requestFocus();
    }//GEN-LAST:event_txtvloutrasActionPerformed

    private void txtcustoFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_txtcustoFocusLost
        // TODO add your handling code here:
    }//GEN-LAST:event_txtcustoFocusLost

    private void txtcustoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtcustoActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txtcustoActionPerformed

    private void cbmodbcActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cbmodbcActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_cbmodbcActionPerformed

    private void txtaliqpisActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtaliqpisActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txtaliqpisActionPerformed

    private void txtaliqcofinsActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtaliqcofinsActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txtaliqcofinsActionPerformed

    private void txtvlpisActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtvlpisActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txtvlpisActionPerformed

    private void txtvlcofinsActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtvlcofinsActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txtvlcofinsActionPerformed

    private void txtaliqipiActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtaliqipiActionPerformed
       txtvlipi.requestFocus();
    }//GEN-LAST:event_txtaliqipiActionPerformed

    private void txtQntActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtQntActionPerformed
        Double unit=clsaux.capturaValores(txtsubtotal.getText())/clsaux.capturaValores(txtQnt.getText());
        txtValorunitario.setText(clsaux.formato4(unit));
        txtValorunitario.requestFocus();
    }//GEN-LAST:event_txtQntActionPerformed

    private void txtValorunitarioActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtValorunitarioActionPerformed
      //txtvloutras.requestFocus();
      txtPrecVenda.requestFocus();
    }//GEN-LAST:event_txtValorunitarioActionPerformed

    private void txtQntFocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_txtQntFocusGained
       txtQnt.selectAll();
    }//GEN-LAST:event_txtQntFocusGained

    private void txtValorunitarioFocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_txtValorunitarioFocusGained
       txtValorunitario.selectAll();
    }//GEN-LAST:event_txtValorunitarioFocusGained

    private void txtvlstActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtvlstActionPerformed
       calculaTotal();
       txtcstpis.requestFocus();
    }//GEN-LAST:event_txtvlstActionPerformed

    private void txtvlipiActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtvlipiActionPerformed
        calculaTotal();
        btnGravar.requestFocus();
    }//GEN-LAST:event_txtvlipiActionPerformed

    private void txtcstActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtcstActionPerformed
        ImpostosDAO imp= new ImpostosDAO();
        Boolean valido=false;
        for(String ret:imp.listaSituacaoTributaria()){
            if(txtcst.getText().equals(clsaux.retornaId(ret))){
                txtdesccst.setText(clsaux.retornaAposId(ret));
                valido=true;
            }
        }
        if(valido==false){
            JOptionPane.showMessageDialog(null, "Cst Invalido!!!");
        }else{
            txtbaseicms.requestFocus();
        }
        
        
    }//GEN-LAST:event_txtcstActionPerformed

    private void txtbaseicmsActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtbaseicmsActionPerformed
       txtaliqicms.requestFocus();
    }//GEN-LAST:event_txtbaseicmsActionPerformed

    private void txtaliqicmsActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtaliqicmsActionPerformed
      txtvlicms.requestFocus();
    }//GEN-LAST:event_txtaliqicmsActionPerformed

    private void txtvlicmsActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtvlicmsActionPerformed
       txtbasest.requestFocus();
    }//GEN-LAST:event_txtvlicmsActionPerformed

    private void txtbasestActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtbasestActionPerformed
        txtvlst.requestFocus();
    }//GEN-LAST:event_txtbasestActionPerformed

    private void txtcstpisActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtcstpisActionPerformed
        ImpostosDAO imp= new ImpostosDAO();
        Boolean valido=false;
        for(clsPisCofins ret : imp.listaPisCofins()){
            if(txtcstpis.getText().equals(ret.getIdentificacao())){
                txtdescpis.setText(ret.getDescricao());
                txtaliqpis.setText(ret.getAliq_pis());
                txtaliqcofins.setText(ret.getAliq_cofins());
                valido=true;
            }
        }
        if(valido==false){
            JOptionPane.showMessageDialog(null, "Pis Cofins Invalido!!!");
        }else{
             txtbasepis.requestFocus();
        }
       
    }//GEN-LAST:event_txtcstpisActionPerformed

    private void txtbasepisActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtbasepisActionPerformed
       txtcstipi.requestFocus();
    }//GEN-LAST:event_txtbasepisActionPerformed

    private void txtcstipiActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtcstipiActionPerformed
        ImpostosDAO imp= new ImpostosDAO();
        Boolean valido=false;
        for(String ret:imp.listaIpi()){
            if(txtcstipi.getText().equals(clsaux.retornaId(ret))){
                txtdescipi.setText(clsaux.retornaAposId(ret));
                valido=true;
            }
        }
        if(valido==false){
            JOptionPane.showMessageDialog(null, "Ipi Invalido!!!");
        }else{
            txtbaseipi.requestFocus();
        }
        
    }//GEN-LAST:event_txtcstipiActionPerformed

    private void txtbaseipiActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtbaseipiActionPerformed
        txtaliqipi.requestFocus();
    }//GEN-LAST:event_txtbaseipiActionPerformed

    private void txtValortotalActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtValortotalActionPerformed
        if(clsaux.capturaValores(txtValorunitario.getText())>0){
        }else{
            Double tot= clsaux.capturaValores(txtValortotal.getText());
            Double qnt= clsaux.capturaValores(txtQnt.getText())*clsaux.capturaValores(txtFator.getText());
            txtValorunitario.setText(clsaux.formato(tot/qnt));
        }
    }//GEN-LAST:event_txtValortotalActionPerformed

    private void txtsubtotalFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_txtsubtotalFocusLost
        // TODO add your handling code here:
    }//GEN-LAST:event_txtsubtotalFocusLost

    private void txtsubtotalActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtsubtotalActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txtsubtotalActionPerformed

    private void txtMargemActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtMargemActionPerformed
        this.calculaPrecoVenda();
    }//GEN-LAST:event_txtMargemActionPerformed

    private void txtvloutrasFocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_txtvloutrasFocusGained
        txtvloutras.selectAll();
    }//GEN-LAST:event_txtvloutrasFocusGained

    private void txtvlseguroFocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_txtvlseguroFocusGained
       txtvlseguro.selectAll();
    }//GEN-LAST:event_txtvlseguroFocusGained

    private void txtvlfreteFocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_txtvlfreteFocusGained
      txtvlfrete.selectAll();
    }//GEN-LAST:event_txtvlfreteFocusGained

    private void txtDescontoFocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_txtDescontoFocusGained
      txtDesconto.selectAll();
    }//GEN-LAST:event_txtDescontoFocusGained

    private void txtAcrescFocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_txtAcrescFocusGained
       txtAcresc.selectAll();
    }//GEN-LAST:event_txtAcrescFocusGained

    private void txtcstFocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_txtcstFocusGained
       txtCst.selectAll();
    }//GEN-LAST:event_txtcstFocusGained

    private void txtbaseicmsFocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_txtbaseicmsFocusGained
       txtbaseicms.selectAll();
    }//GEN-LAST:event_txtbaseicmsFocusGained

    private void txtaliqicmsFocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_txtaliqicmsFocusGained
      txtaliqicms.selectAll();
    }//GEN-LAST:event_txtaliqicmsFocusGained

    private void txtvlicmsFocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_txtvlicmsFocusGained
      txtvlicms.selectAll();
    }//GEN-LAST:event_txtvlicmsFocusGained

    private void txtbasestFocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_txtbasestFocusGained
       txtbasest.selectAll();
    }//GEN-LAST:event_txtbasestFocusGained

    private void txtvlstFocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_txtvlstFocusGained
        txtvlst.selectAll();
    }//GEN-LAST:event_txtvlstFocusGained

    private void txtcstpisFocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_txtcstpisFocusGained
       txtcstpis.selectAll();
    }//GEN-LAST:event_txtcstpisFocusGained

    private void txtbasepisFocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_txtbasepisFocusGained
        txtbasepis.selectAll();
    }//GEN-LAST:event_txtbasepisFocusGained

    private void txtaliqpisFocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_txtaliqpisFocusGained
        // TODO add your handling code here:
    }//GEN-LAST:event_txtaliqpisFocusGained

    private void txtbaseipiFocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_txtbaseipiFocusGained
       txtbaseipi.selectAll();
    }//GEN-LAST:event_txtbaseipiFocusGained

    private void txtaliqipiFocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_txtaliqipiFocusGained
      txtaliqipi.selectAll();
    }//GEN-LAST:event_txtaliqipiFocusGained

    private void btnPesqActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnPesqActionPerformed
         localizaProduto dialog = new localizaProduto(new javax.swing.JFrame(), true); 
                localizaProduto.idchamado="1";
                dialog.setVisible(true);
    }//GEN-LAST:event_btnPesqActionPerformed

    private void btnAjustaNomeCadastroActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnAjustaNomeCadastroActionPerformed
        if(item.getIdproduto().equals("0")){
            custosDAO.atualizaDescricaoNFeCompra(txtNomeproduto.getText(), iditem);
        }else{
            custosDAO.atualizaDescricaoNFeCompra(txtNomeproduto.getText(), item.getIdproduto());
        }
        
        
    }//GEN-LAST:event_btnAjustaNomeCadastroActionPerformed

    private void txtVlFcpFocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_txtVlFcpFocusGained
        // TODO add your handling code here:
    }//GEN-LAST:event_txtVlFcpFocusGained

    private void txtVlFcpActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtVlFcpActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txtVlFcpActionPerformed

    private void txtFatorActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtFatorActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txtFatorActionPerformed

    private void txtMargemAplicActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtMargemAplicActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txtMargemAplicActionPerformed

    private void txtPrecVendaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtPrecVendaActionPerformed
       calculaMargemAplicada();
       btnGravar.requestFocus();
    }//GEN-LAST:event_txtPrecVendaActionPerformed
    public void calculaPrecoVenda(){
        Double margem=clsaux.capturaValores(txtMargem.getText());
        Double custo= clsaux.capturaValores(txtcusto.getText());
        Double prec=custo+(custo*margem/100);
        txtSujestao.setText(clsaux.formato(prec));
    
    }
    public void calculaMargemAplicada(){
        Double preco= clsaux.capturaValores(txtPrecVenda.getText());
        Double custo=clsaux.capturaValores(txtcusto.getText());
        Double perc=(preco*100)/custo-100;
        txtMargemAplic.setText(clsaux.formato(perc));
    }
    public void validaCampos(){
        this.calculaTotal();
        if (clsaux.capturaValores(txtValortotal.getText())>0.00 && clsaux.verificaNulo(txtCst.getText())==false){
            this.gravaItem();
        }else{
            JOptionPane.showMessageDialog(null, "Falta Confirmar Campos!!!");
        }
    }
    
    public void pegaItem(String codigobarra){
        String sqlitem="select   tp.id,\n" +
                        "        tp.nomelongo,\n" +
                        "        tp.unid_venda,\n" +
                        "        tb.codigo_barras,\n" +
                        "        tb.referencia,\n" +
                        "        tb.fator,\n" +
                        "        tc.preco_venda,\n" +
                        "        tc.ncm,\n" +
                        "        tc.sit_tributaria\n" +
                        "        from tprodutos tp\n" +
                        "join tbarras tb on tp.id=tb.id_produto\n" +
                        "join tprecos tc on tp.id=tc.id\n" +
                        "where tb.codigo_barras=? and tp.excluido='N'";
        PreparedStatement psp= conexao.getPreparedStatementResult(sqlitem);
        try {
            psp.setString(1, codigobarra);
            ResultSet rsp= psp.executeQuery();
            rsp.first();
            iditem=rsp.getString(1);
            txtNomeproduto.setText(rsp.getString(2));
            txtReferencia.setText(rsp.getString(5));
            //txtFator.setText(rsp.getString(6));
            txtNcm.setText(rsp.getString(8));
            txtCst.setText(rsp.getString(9));
            txtPrecVenda.setText(clsaux.formato(rsp.getDouble(7)));
            cbUnidcompra.setSelectedItem(rsp.getString(3));
            cbUnidvenda.setSelectedItem(rsp.getString(3));
            precAntigo=rsp.getString(7);
            cstAntigo=rsp.getString(9);
            ncmAntigo=rsp.getString(8);
            refAntigo=rsp.getString(5);
            rsp.close();
            psp.close();
            txtQnt.requestFocus();
        } catch (SQLException ex) {
            Logger.getLogger(LancamentoItemDocumento.class.getName()).log(Level.SEVERE, null, ex);
            JOptionPane.showMessageDialog(null, "Produto N√£o Encontrado!!!");
            if(clsConfig.configuracaogeral.getCadastroProdAutomatico().equals("S")/*&& item.getIdproduto().equals("0")*/){
                int yn= JOptionPane.showConfirmDialog(null, "Deseja Cadastrar O Produto Automatico", "Cadastro Automatizado.", JOptionPane.YES_NO_OPTION);
                if (yn== JOptionPane.YES_OPTION){
                    item.setBarras(codigobarra);
                    produtos pro=new BaseLancamentoDocumento().cadastraProdutoAutomaticoXml(item);
                    item.setIdproduto(String.valueOf(pro.getId()));
                    item.setBarras(pro.getCodi_barra());
                    txtCodBarras.setText(item.getBarras());
                }
            }
        }
    
    }
    public void calculaTotal(){
        Double qnt,vuni,vtotal,acres,desc,outras,seguro,frete,vlipi,vlst,vlicms,fator,subtotal,vlfcp,custo=0.00;
        fator=clsaux.capturaValores(txtFator.getText());
        qnt=clsaux.capturaValores(txtQnt.getText());
        vuni=Double.parseDouble(txtValorunitario.getText().replaceAll(",", "."));
        acres=Double.parseDouble(txtAcresc.getText().replaceAll(",", "."));
        desc=Double.parseDouble(txtDesconto.getText().replaceAll(",", "."));
        outras=clsaux.capturaValores(txtvloutras.getText());
        seguro=clsaux.capturaValores(txtvlseguro.getText());
        frete=clsaux.capturaValores(txtvlfrete.getText());
        vlipi=clsaux.capturaValores(txtvlipi.getText());
        vlst=clsaux.capturaValores(txtvlst.getText());
        vlicms=clsaux.capturaValores(txtvlicms.getText());
        vlfcp=clsaux.capturaValores(txtVlFcp.getText());
        vtotal=(qnt*fator)*vuni-desc+acres+outras+seguro+frete+vlipi;
        subtotal=(qnt*fator)*vuni;
        if(txtcst.getText().equals("10")||txtcst.getText().equals("70")||txtcst.getText().equals("90")||txtcst.getText().equals("30")){
            vtotal=vtotal+vlst+vlfcp;
        }
        custo=vtotal/(qnt*fator);
        txtValortotal.setText(clsaux.formato(vtotal));
        txtsubtotal.setText(clsaux.formato(subtotal));
        txtcusto.setText(clsaux.formato(custo));
    }
    public void gravaItem(){
        
        lancDocumentDAO ldDAO= new lancDocumentDAO();
        item.setIdmovto(LancamentoDocumentos.idmovimento);
        item.setIdproduto(iditem);
        item.setBarras(txtCodBarras.getText());
        item.setDescricaofornecedor(txtNomeproduto.getText());
        item.setFator(clsaux.capturaValor(txtFator.getText()));
        item.setQuantidade(clsaux.capturaValor(txtQnt.getText()));
        item.setPrecovenda(clsaux.capturaValor(txtValorunitario.getText()));
        item.setAcrescimo(clsaux.capturaValor(txtAcresc.getText()));
        item.setDesconto(clsaux.capturaValor(txtDesconto.getText()));
        item.setTotal(clsaux.capturaValor(txtValortotal.getText()));
        item.setUnidade(cbUnidcompra.getSelectedItem().toString());
        item.setNumeroitem(txtIditem.getText());
        item.setValor_outras(clsaux.capturaValor(txtvloutras.getText()));
        item.setValor_frete(clsaux.capturaValor(txtvlfrete.getText()));
        item.setValor_seguro(clsaux.capturaValor(txtvlseguro.getText()));
        item.setNcm(txtncmcompra.getText());
        item.setCst(txtcst.getText());
        item.setRed_bc(clsaux.capturaValor(txtredicms.getText()));
        item.setBase_icms(clsaux.capturaValor(txtbaseicms.getText()));
        item.setValor_icms(clsaux.capturaValor(txtvlicms.getText()));
        item.setAliq_icms(clsaux.capturaValor(txtaliqicms.getText()));
        item.setBase_st(clsaux.capturaValor(txtbasest.getText()));
        item.setValor_st(clsaux.capturaValor(txtvlst.getText()));
        item.setPis_cofins(txtcstpis.getText());
        item.setBase_pis(clsaux.capturaValor(txtbasepis.getText()));
        item.setAliq_pis(clsaux.capturaValor(txtaliqpis.getText()));
        item.setAliq_cofins(clsaux.capturaValor(txtaliqcofins.getText()));
        item.setValor_pis(clsaux.capturaValor(txtvlpis.getText()));
        item.setValor_cofins(clsaux.capturaValor(txtvlcofins.getText()));
        item.setCstipi(txtcstipi.getText());
        item.setBase_ipi(clsaux.capturaValor(txtbaseipi.getText()));
        item.setAliq_ipi(clsaux.capturaValor(txtaliqipi.getText()));
        item.setValor_ipi(clsaux.capturaValor(txtvlipi.getText()));
        item.setSubtotal(clsaux.capturaValor(txtsubtotal.getText()));
        item.setOrigem_produto("0");
        item.setCusto(clsaux.capturaValor(txtcusto.getText()));
        item.setValor_fcp(clsaux.capturaValor(txtVlFcp.getText()));
        if (clsaux.capturaValores(item.getQntComercial())==0.00) item.setQntComercial(item.getQuantidade());
        if(clsaux.trataCampoNulo(item.getEanComer()).equals("0")){
            item.setEanComer(item.getBarras());
        }
        if (estadoform.equals("A")){
          LancamentoDocumentos.itens.set(linha, item);
        } else {
           LancamentoDocumentos.itens.add(item);
        }
       
        if (LancamentoDocumentos.tipomovto.equals("3")){
            
            /*if(custosDAO.verificarUltimoLancamentoItem(item.getIdmovto(), item.getBarras())){
                custosDAO.atualizaCustoAtual(clsaux.capturaValor(clsaux.formato(custo)), iditem);
            }*/
            if(txtPrecVenda.getText()!=precAntigo||txtCst.getText()!=cstAntigo||txtNcm.getText()!=ncmAntigo){
                //aqui vai atualizar o cadastro do produto com cst preco e ncm novos
                Double pre=clsaux.capturaValores(txtPrecVenda.getText());
                if(pre>0.00){
                    custosDAO.atualizaCustoCstNcmNfEntrada(txtNcm.getText(), txtCst.getText(), pre.toString(), item.getIdproduto());
                    new TauditDAO().inserir(item.getIdproduto(), clsaux.capturaValores(precAntigo), pre);
                }
            }
            if(txtReferencia.getText()!=refAntigo){
                // atualiza o campo referencia
                new custosDAO().atualizaReferenciaNfeCompra(txtReferencia.getText(), item.getIdproduto());
            }
            if(ckEtiqueta.isSelected()){
                produtoDAO.marcaItemImpressaoEtiquera(item.getIdproduto());
            }
        }
        
        iditem=null;
        LancamentoDocumentos.numeitem++;
        LancamentoDocumentos.populaTabelaItens();
        LancamentoDocumentos.calculaTotalDoc();
        this.dispose();
    }
    public void alteraItem(){
        txtFabricante.setText(item.getCodfornecedor());
        txtCodBarras.setText(item.getBarras());
        txtNomeproduto.setText(item.getDescricaofornecedor());
        txtIditem.setText(item.getNumeroitem());
        txtQnt.setText(clsaux.capturaValor(item.getQuantidade()));
        txtValorunitario.setText(clsaux.formato4(clsaux.capturaValores(item.getPrecovenda())));
        txtValortotal.setText(clsaux.capturaValor(item.getTotal()));
        cbUnidcompra.setSelectedItem(item.getUnidade());
        txtAcresc.setText(item.getAcrescimo());
        txtDesconto.setText(item.getDesconto());
        iditem=item.getIdproduto();
        txtvloutras.setText(clsaux.trataCampoNulo(item.getValor_outras()));
        txtvlseguro.setText(clsaux.trataCampoNulo(item.getValor_seguro()));
        txtvlfrete.setText(clsaux.trataCampoNulo(item.getValor_frete()));
        txtncmcompra.setText(item.getNcm());
        txtcest.setText(item.getCest());
        txtcbenef.setText(item.getCbenef());
        
        txtredicms.setText(clsaux.trataCampoNulo(item.getRed_bc()));
        txtbaseicms.setText(clsaux.trataCampoNulo(item.getBase_icms()));
        txtvlicms.setText(clsaux.trataCampoNulo(item.getValor_icms()));
        txtaliqicms.setText(clsaux.trataCampoNulo(item.getAliq_icms()));
        txtbasest.setText(clsaux.trataCampoNulo(item.getBase_st()));
        txtvlst.setText(clsaux.trataCampoNulo(item.getValor_st()));
        txtcstpis.setText(item.getPis_cofins());
        txtbasepis.setText(clsaux.trataCampoNulo(item.getBase_pis()));
        txtaliqpis.setText(clsaux.trataCampoNulo(item.getAliq_pis()));
        txtaliqcofins.setText(clsaux.trataCampoNulo(item.getAliq_cofins()));
        txtvlpis.setText(clsaux.trataCampoNulo(item.getValor_pis()));
        txtvlcofins.setText(clsaux.trataCampoNulo(item.getValor_cofins()));
        txtcstipi.setText(clsaux.trataCampoNulo(item.getCstipi()));
        txtbaseipi.setText(clsaux.trataCampoNulo(item.getBase_ipi()));
        txtaliqipi.setText(clsaux.trataCampoNulo(item.getAliq_ipi()));
        txtvlipi.setText(clsaux.trataCampoNulo(item.getValor_ipi()));
        txtFator.setText(item.getFator());
        txtVlFcp.setText(clsaux.trataCampoNulo(item.getValor_fcp()));
        if(item.getCst().equals("00")){
            txtcst.setText("0");
        }else{
            txtcst.setText(item.getCst());
        }
        this.calculaTotal();
        //this.pegaItem(validaDigitosBarras.preencheCodigo(txtCodBarras.getText()));
        
    }
    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(LancamentoItemDocumento.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(LancamentoItemDocumento.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(LancamentoItemDocumento.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(LancamentoItemDocumento.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the dialog */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                LancamentoItemDocumento dialog = new LancamentoItemDocumento(new javax.swing.JFrame(), true);
                dialog.addWindowListener(new java.awt.event.WindowAdapter() {
                    @Override
                    public void windowClosing(java.awt.event.WindowEvent e) {
                        System.exit(0);
                    }
                });
                dialog.setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton btnAjustaNomeCadastro;
    private javax.swing.JButton btnGravar;
    private javax.swing.JButton btnPesq;
    private javax.swing.JComboBox<String> cbUnidcompra;
    private javax.swing.JComboBox<String> cbUnidvenda;
    private javax.swing.JComboBox<String> cbmodbc;
    private javax.swing.JCheckBox ckEtiqueta;
    private javax.swing.JButton jButton2;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel10;
    private javax.swing.JLabel jLabel11;
    private javax.swing.JLabel jLabel12;
    private javax.swing.JLabel jLabel13;
    private javax.swing.JLabel jLabel14;
    private javax.swing.JLabel jLabel15;
    private javax.swing.JLabel jLabel16;
    private javax.swing.JLabel jLabel17;
    private javax.swing.JLabel jLabel18;
    private javax.swing.JLabel jLabel19;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel20;
    private javax.swing.JLabel jLabel21;
    private javax.swing.JLabel jLabel22;
    private javax.swing.JLabel jLabel25;
    private javax.swing.JLabel jLabel27;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel31;
    private javax.swing.JLabel jLabel32;
    private javax.swing.JLabel jLabel33;
    private javax.swing.JLabel jLabel34;
    private javax.swing.JLabel jLabel35;
    private javax.swing.JLabel jLabel36;
    private javax.swing.JLabel jLabel37;
    private javax.swing.JLabel jLabel38;
    private javax.swing.JLabel jLabel39;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel40;
    private javax.swing.JLabel jLabel41;
    private javax.swing.JLabel jLabel42;
    private javax.swing.JLabel jLabel43;
    private javax.swing.JLabel jLabel44;
    private javax.swing.JLabel jLabel45;
    private javax.swing.JLabel jLabel46;
    private javax.swing.JLabel jLabel47;
    private javax.swing.JLabel jLabel48;
    private javax.swing.JLabel jLabel49;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel50;
    private javax.swing.JLabel jLabel51;
    private javax.swing.JLabel jLabel52;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JPanel jPanel3;
    private javax.swing.JPanel jPanel4;
    private javax.swing.JPanel jPanel5;
    private javax.swing.JPanel jPanel6;
    private javax.swing.JPanel jPanel7;
    private javax.swing.JPanel jPanel8;
    private javax.swing.JPanel jPanel9;
    private javax.swing.JSeparator jSeparator1;
    private javax.swing.JTabbedPane jTabbedPane1;
    private javax.swing.JLabel lbvenda;
    private javax.swing.JLabel lbvenda1;
    private javax.swing.JLabel lbvenda2;
    private javax.swing.JLabel lbvenda3;
    private javax.swing.JTextField txtAcresc;
    public static javax.swing.JTextField txtCodBarras;
    private javax.swing.JTextField txtCst;
    private javax.swing.JTextField txtDesconto;
    private javax.swing.JTextField txtFabricante;
    private javax.swing.JTextField txtFator;
    private javax.swing.JTextField txtIditem;
    private javax.swing.JTextField txtMargem;
    private javax.swing.JTextField txtMargemAplic;
    private javax.swing.JTextField txtNcm;
    private javax.swing.JTextField txtNomeproduto;
    private javax.swing.JTextField txtPrecVenda;
    private javax.swing.JTextField txtQnt;
    private javax.swing.JTextField txtReferencia;
    private javax.swing.JTextField txtSujestao;
    private javax.swing.JTextField txtValortotal;
    private javax.swing.JTextField txtValorunitario;
    private javax.swing.JTextField txtVlFcp;
    private javax.swing.JTextField txtaliqcofins;
    private javax.swing.JTextField txtaliqicms;
    private javax.swing.JTextField txtaliqipi;
    private javax.swing.JTextField txtaliqpis;
    private javax.swing.JTextField txtbaseicms;
    private javax.swing.JTextField txtbaseipi;
    private javax.swing.JTextField txtbasepis;
    private javax.swing.JTextField txtbasest;
    private javax.swing.JTextField txtcbenef;
    private javax.swing.JTextField txtcest;
    private javax.swing.JTextField txtcst;
    private javax.swing.JTextField txtcstipi;
    private javax.swing.JTextField txtcstpis;
    private javax.swing.JTextField txtcusto;
    private javax.swing.JTextField txtdesccst;
    private javax.swing.JTextField txtdescipi;
    private javax.swing.JTextField txtdescpis;
    private javax.swing.JTextField txtdesoneracaoicms;
    private javax.swing.JTextField txtncmcompra;
    private javax.swing.JTextField txtredicms;
    private javax.swing.JTextField txtsubtotal;
    private javax.swing.JTextField txtvlcofins;
    private javax.swing.JTextField txtvlfrete;
    private javax.swing.JTextField txtvlicms;
    private javax.swing.JTextField txtvlipi;
    private javax.swing.JTextField txtvloutras;
    private javax.swing.JTextField txtvlpis;
    private javax.swing.JTextField txtvlseguro;
    private javax.swing.JTextField txtvlst;
    // End of variables declaration//GEN-END:variables
}
